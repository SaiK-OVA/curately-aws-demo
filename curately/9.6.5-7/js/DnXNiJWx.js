import{r as l,W as O,A as M,L as p,V as g,k as t,O as k,S as $,T as q,B as Q,cj as X}from"./Da4I77gy.js";import{M as Z}from"./DCKGuMgj.js";import{C as ee}from"./CYG5EPlH.js";import{S as te}from"./BcvtPrAc.js";import{C as P}from"./BI0SiBuK.js";import{F as ae}from"./3Gqd8Nje.js";import{M as oe}from"./DLV53fDP.js";import{C as se}from"./DrwwBJQC.js";import{I as R}from"./BAhGwoeq.js";import{C as le}from"./xlFz-ogz.js";import{S as re}from"./BV6i5w7m.js";import{T as x}from"./D8Uve2Qz.js";import{E as ie}from"./kLLhd3nI.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./D4E8Ilzm.js";import"./DR5LSZrV.js";import"./YFmo1cJD.js";import"./DGAwO83Z.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./BSRMXGwI.js";import"./M012vGJb.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./BtfZ3YdN.js";import"./Bt1msObo.js";import"./DVcNEn01.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./D7ld7k1a.js";import"./BRh2WteL.js";import"./rYcqsWUw.js";import"./Bu7qOu7j.js";import"./Bfaybex0.js";import"./CkTy0Aeu.js";import"./D_Wak6kh.js";import"./MGFt9yJK.js";const ot=()=>{const[ne,ce]=l.useState(),[ue,me]=l.useState(),[de,he]=l.useState(!1),[be,fe]=l.useState(""),[n,F]=l.useState([]),[u,v]=l.useState(""),[L,b]=l.useState(!1),[m,c]=l.useState({}),[z,H]=l.useState(0),[B,K]=l.useState([]),[_,G]=l.useState(),[r,f]=l.useState({pageIndex:0,pageSize:25}),[E,D]=l.useState(!1),[y,S]=l.useState({});l.useEffect(()=>{w()},[]);const w=()=>{O(M.getCall("ats",`jobDiva/getHotLists/${p.getvalue("clientId")}`).then(e=>{var s,o;let a=((s=e==null?void 0:e.data)==null?void 0:s.data)||[];(o=e==null?void 0:e.data)!=null&&o.Success&&(a!=null&&a.length)?(a=a.sort((i,d)=>{let h=new Date(i.DATECREATED);return new Date(d.DATECREATED).getTime()-h.getTime()}),F([...a]),H((a==null?void 0:a.length)||0)):g(e.data.Message?e.data.Message:"An error occured while getting Hot sheet List.","error")}))},C=e=>{const a=(e==null?void 0:e.length)>30?e.slice(0,30):e;return(e==null?void 0:e.length)>30?t.jsxDEV(x,{title:e,children:t.jsxDEV("span",{children:[a,"..."]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:88,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:87,columnNumber:17},void 0):t.jsxDEV("span",{children:a},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:91,columnNumber:23},void 0)},W=[{accessorKey:"HOTLIST_NAME",header:"Talent Pool Name",Cell:({row:e})=>C(e.original.HOTLIST_NAME)},{accessorKey:"DESCRIPTION",header:"Description",Cell:({row:e})=>C(e.original.DESCRIPTION)},{accessorKey:"JOBID",header:"Link to Job",Cell:({row:e})=>C(e.original.JOBID+" - "+e.original.LINK_TO_JOB)},{accessorKey:"CREATEDBY",header:"Created By",size:80},{accessorKey:"DATECREATED",header:"Created Date",Cell:({row:e})=>ae.formatMillisecondsToCustomDate(e.original.DATECREATED),size:80},{accessorKey:"curatelyId",header:"Curately",Cell:({row:e})=>e.original.curatelyId?t.jsxDEV(x,{title:"Curately",children:t.jsxDEV("span",{className:"ml-4",children:e.original.curatelyId?t.jsxDEV(P,{fontSize:"small",color:"success"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:129,columnNumber:54},void 0):""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:128,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:127,columnNumber:45},void 0):"",size:80},{accessorKey:"voiceAiEnabled",header:"Voice AI",size:80,Cell:({row:e})=>{var a;return e.original.curatelyId?t.jsxDEV(t.Fragment,{children:(a=e==null?void 0:e.original)!=null&&a.voiceAiEnabled?t.jsxDEV("span",{className:"ml-4",children:[" ",t.jsxDEV(P,{color:"success"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:143,columnNumber:54},void 0)," "]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:143,columnNumber:29},void 0):t.jsxDEV(x,{title:"Click here to View Error Message",children:t.jsxDEV("span",{className:"ml-4 errorMsg",style:{cursor:"pointer"},onClick:()=>{var s;X({errorMessage:(s=e==null?void 0:e.original)==null?void 0:s.voiceAiReason,title:"VoiceAI - Error Message"})},children:[" ",t.jsxDEV(ie,{color:"error"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:147,columnNumber:34},void 0),"  "]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:145,columnNumber:79},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:145,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:141,columnNumber:21},void 0):null}}],U=l.useMemo(()=>{const e=n==null?void 0:n.filter(a=>a.HOTLIST_NAME.toLowerCase().includes(u.toLowerCase()||""));return H(e.length),e.slice(r.pageIndex*r.pageSize,(r.pageIndex+1)*r.pageSize)},[u,n,r]),I=e=>{const a=Object.keys(m);let s={atsName:"JobDiva",clientId:p.getvalue("clientId"),recruiterId:p.getvalue("recrId"),moduleName:"Pool",atsValues:a,data:n.filter(o=>a.includes(o.HOTLIST_ID.toString()))};e&&(s=Object.assign({},s,{...s,missingFields:e})),O(M.postWithData("ats","ats/consume",s).then(o=>{var i,d,h,N,T,V,j,J,A;(i=o.data)!=null&&i.Success&&((d=o.data)==null?void 0:d.Status)===200?(g(o.data.Message,"success"),D(!1),S({}),c({}),b(!1),w()):(h=o==null?void 0:o.data)!=null&&h.Error&&((N=o==null?void 0:o.data)==null?void 0:N.Status)===400&&((V=(T=o==null?void 0:o.data)==null?void 0:T.data)!=null&&V.missingFields)&&((A=Object.keys((J=(j=o==null?void 0:o.data)==null?void 0:j.data)==null?void 0:J.missingFields))!=null&&A.length)?(D(!0),S(o.data.data)):g(o.data.Message?o.data.Message:"An error occured while getting this Push to Curately.","error")}))},Y=async e=>{var a;if(b(e.target.checked),e.target.checked){let s={},o=n;for(let i=0;i<o.length;i++)["",null,void 0].includes((a=o[i])==null?void 0:a.curatelyId)&&(s[o[i].HOTLIST_ID]=!0);c(s)}else c({})};return t.jsxDEV("div",{className:"",id:"HotSheet",children:[t.jsxDEV("div",{className:"",children:[t.jsxDEV(k,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:t.jsxDEV($,{direction:"row",spacing:3,children:t.jsxDEV(q,{variant:"h6",className:"header, pt-1",children:"JobDiva - Hot List"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:291,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:290,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:282,columnNumber:17},void 0),t.jsxDEV("div",{className:"p-4 customCard CardView",children:t.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:[t.jsxDEV(k,{container:!0,className:"actionItems",width:"auto",children:[t.jsxDEV(se,{className:"select-all-checkbox",disableRipple:!0,color:"default",checked:L,onChange:Y},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:399,columnNumber:29},void 0),t.jsxDEV(Q,{variant:"outlined",color:"secondary",className:"mr-2 ml-2",disabled:Object.keys(m).length!==1,onClick:()=>I(),children:"Push to VoiceAI"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:407,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:398,columnNumber:25},void 0),t.jsxDEV(Z,{columns:W,enableRowSelection:e=>{var a;return["",null,void 0].includes((a=e==null?void 0:e.original)==null?void 0:a.curatelyId)},data:U,enablePinning:!0,muiSearchTextFieldProps:{placeholder:"Search",sx:{width:"205px",right:"50px",padding:"-10px",height:"20px",marginTop:"-10px",marginRight:"-40px"},value:u,onChange:e=>{f({...r,pageIndex:0}),v(e.target.value)},InputProps:{startAdornment:t.jsxDEV(R,{position:"start",children:t.jsxDEV(re,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:432,columnNumber:86},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:432,columnNumber:53},void 0),endAdornment:t.jsxDEV(R,{position:"end",disablePointerEvents:!u,children:t.jsxDEV(le,{fontSize:"small",htmlColor:u?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>v("")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:434,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:433,columnNumber:51},void 0)}},initialState:{density:"compact",showGlobalFilter:!0},onColumnFiltersChange:K,onGlobalFilterChange:G,enableDensityToggle:!1,enableFullScreenToggle:!1,columnResizeMode:"onChange",getRowId:e=>e.HOTLIST_ID,onPaginationChange:f,state:{pagination:r,columnFilters:B,globalFilter:_,rowSelection:m},onRowSelectionChange:c,enableStickyHeader:!0,enablePagination:!1,muiSelectCheckboxProps:e=>({onChange:a=>{if(e.row.id){let s={...m};a.target.checked?s[e.row.id]=a.target.checked:s.hasOwnProperty(e.row.id)&&delete s[e.row.id],c(s)}}}),renderBottomToolbarCustomActions:()=>t.jsxDEV(ee,{page:r.pageIndex,rowsPerPage:r.pageSize,rowCount:z,onChangePage:e=>{c({}),b(!1),f({...r,pageIndex:e})}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:485,columnNumber:33},void 0),icons:{ArrowDownwardIcon:e=>t.jsxDEV(te,{...e},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:502,columnNumber:37},void 0)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:418,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:396,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:394,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:281,columnNumber:13},void 0),E&&t.jsxDEV(oe,{open:E,closePopup:()=>{D(!1),S({})},passedData:y==null?void 0:y.missingFields,handleUpdateToJobDiva:I},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:510,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:280,columnNumber:9},void 0)};export{ot as default};
