import{r,k as a,O as b,S as p,T as _,l as ee,B as k,L as D,W as M,A,V as d}from"./Da4I77gy.js";import{M as ae}from"./DCKGuMgj.js";import{C as te}from"./CYG5EPlH.js";import{S as le}from"./BcvtPrAc.js";import{A as re,D as ne}from"./Bu7qOu7j.js";import{C as se}from"./BI0SiBuK.js";import{F as oe}from"./3Gqd8Nje.js";import{T,C as de}from"./DrwwBJQC.js";import{L as ie,D as z}from"./D4E8Ilzm.js";import{I as F}from"./BAhGwoeq.js";import{C as ue}from"./xlFz-ogz.js";import{S as ce}from"./BV6i5w7m.js";import{T as me}from"./D8Uve2Qz.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./BSRMXGwI.js";import"./DGAwO83Z.js";import"./M012vGJb.js";import"./DR5LSZrV.js";import"./YFmo1cJD.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./BtfZ3YdN.js";import"./Bt1msObo.js";import"./DVcNEn01.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./Bfaybex0.js";const $e=()=>{const[s,g]=r.useState(),[n,w]=r.useState(),[L,R]=r.useState(!1),[c,O]=r.useState(""),[m,N]=r.useState(""),[u,W]=r.useState([]),[h,S]=r.useState(""),[K,v]=r.useState(!1),[y,C]=r.useState({}),[G,H]=r.useState(0),[Z,he]=r.useState([]),[U,$]=r.useState(),[i,B]=r.useState({pageIndex:0,pageSize:10}),q=[{accessorKey:"name",header:"Candidate Name"},{accessorKey:"email",header:"Email",Cell:({row:e})=>e.original.email.toLowerCase()},{accessorKey:"dateLastModified",header:"Date",Cell:({row:e})=>oe.formatMillisecondsToCustomDate(+e.original.dateLastModified)},{accessorKey:"curatelyId",header:"Curately",Cell:({row:e})=>e.original.curatelyId?a.jsxDEV(me,{title:"Curately Id",children:a.jsxDEV("span",{className:"ml-4",children:e.original.curatelyId?a.jsxDEV(se,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:83,columnNumber:54},void 0):""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:82,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:81,columnNumber:45},void 0):"",size:80}],J=()=>{const e=Object.keys(y);let t={atsName:"Bullhorn",clientId:D.getvalue("clientId"),recruiterId:D.getvalue("recrId"),moduleName:"Candidate",atsValues:e};M(A.postWithData("ats","ats/consume",t).then(l=>{var o,f;(o=l.data)!=null&&o.Success&&((f=l.data)==null?void 0:f.Status)===200?(d(l.data.Message,"success"),C({}),v(!1),x()):d(l.data.Message?l.data.Message:"An error occured while getting this Push to Curately.","error")}))},Q=r.useMemo(()=>(u==null?void 0:u.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()||"")))??[],[h,u]),x=()=>{if(c||m||s&&n&&s.startOf("day")<=n.startOf("day")){let e={entityName:"Candidate",clientId:D.getvalue("clientId"),candidate:{name:c,email:m,dateAdded:s?s.toFormat("yyyyMMdd"):"",dateLastModified:n?n.toFormat("yyyyMMdd"):""},count:i.pageSize,sort:"-dateLastModified",start:i.pageIndex*i.pageSize,fields:"id,name,email,dateLastModified"};M(A.postWithData("ats","bullhorn/search",e).then(t=>{var l,o,f,E,V,j,I,P;R(!0),console.log(t.data),console.log((o=(l=t.data)==null?void 0:l.data)==null?void 0:o.total),(f=t.data)!=null&&f.Success&&((E=t.data)==null?void 0:E.Status)===200?(H(Number((j=(V=t.data)==null?void 0:V.data)!=null&&j.total?(P=(I=t.data)==null?void 0:I.data)==null?void 0:P.total:0)),W([...t.data.data.data])):d(t.data.Message?t.data.Message:"An error occured while getting this Candidate Name.","error")}))}else!c&&!m?d("Enter Valid Candidate Name or Email.","error"):s?n?s.startOf("day")>n.startOf("day")&&d("Start Date should be less than End Date.","error"):d("Enter Valid End Date.","error"):d("Enter Valid Start Date.","error")};r.useEffect(()=>{(c||m||s&&n&&s.startOf("day")<=n.startOf("day"))&&x()},[i.pageIndex,i.pageSize]);const X=async e=>{if(v(e.target.checked),e.target.checked){let t={},l=u;for(let o=0;o<u.length;o++)t[l[o].id]=!0;C(t)}else C({})},Y=e=>{const t=e?e.trim():"";if(t&&N(t),!t.includes(" ")&&t.includes("@"))if(t.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))N(t);else{d("Please enter valid Email","error");return}};return a.jsxDEV("div",{className:"",id:"BullhornCandidates",children:a.jsxDEV("div",{className:"",children:[a.jsxDEV(b,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:a.jsxDEV(p,{direction:"row",spacing:3,children:a.jsxDEV(_,{variant:"h6",className:"header, pt-1",children:"Bullhorn Candidates"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:239,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:238,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:230,columnNumber:17},void 0),a.jsxDEV(b,{className:"my-3 customCard ",container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[a.jsxDEV(p,{direction:"row",spacing:3,style:{paddingRight:"22px"},children:a.jsxDEV(T,{fullWidth:!0,label:"Candidate Name",size:"small",placeholder:"Search by Candidate Name",value:c,onChange:e=>O(e.target.value)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:253,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:252,columnNumber:21},void 0),a.jsxDEV(p,{direction:"row",spacing:3,style:{paddingRight:"22px"},children:a.jsxDEV(T,{fullWidth:!0,label:"Candidate Email",size:"small",onKeyUp:e=>{e.key==="Enter"&&e.target.value&&Y(e.target.value)},placeholder:"Search by Candidate Email",value:m,onChange:e=>N(e.target.value)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:263,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:262,columnNumber:21},void 0),a.jsxDEV(p,{direction:"row",spacing:3,children:a.jsxDEV(ie,{dateAdapter:re,children:a.jsxDEV(b,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[a.jsxDEV(z,{label:"Start Date",value:s,onChange:e=>{g(e||"")},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:n},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:287,columnNumber:33},void 0),a.jsxDEV(ee,{sx:{mx:2},children:" to "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:311,columnNumber:33},void 0),a.jsxDEV(z,{label:"End Date",value:n,onChange:e=>{w(e||"")},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:ne.now()},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:312,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:281,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:280,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:279,columnNumber:21},void 0),a.jsxDEV(k,{variant:"contained",color:"primary",className:"ml-4",fullWidth:!0,onClick:()=>{B({pageIndex:0,pageSize:10}),x()},children:"Search"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:339,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:245,columnNumber:17},void 0),a.jsxDEV("div",{className:"p-4 customCard CardView",children:L?a.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:[a.jsxDEV(b,{container:!0,className:"actionItems",width:"auto",children:[a.jsxDEV(de,{className:"select-all-checkbox",disableRipple:!0,color:"default",checked:K,onChange:X},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:361,columnNumber:29},void 0),a.jsxDEV(k,{variant:"outlined",color:"secondary",className:"mr-2 ml-2",disabled:!(Object.keys(y).length>0),onClick:()=>J(),children:"Push to Curately"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:369,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:360,columnNumber:25},void 0),a.jsxDEV(ae,{columns:q,enableRowSelection:!0,data:Q,enablePinning:!0,muiSearchTextFieldProps:{placeholder:"Search",sx:{width:"205px",right:"50px",padding:"-10px",height:"20px",marginTop:"-10px",marginRight:"-40px"},value:h,onChange:e=>{S(e.target.value)},InputProps:{startAdornment:a.jsxDEV(F,{position:"start",children:a.jsxDEV(ce,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:391,columnNumber:86},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:391,columnNumber:53},void 0),endAdornment:a.jsxDEV(F,{position:"end",disablePointerEvents:!h,children:a.jsxDEV(ue,{fontSize:"small",htmlColor:h?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>S("")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:393,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:392,columnNumber:51},void 0)}},initialState:{density:"compact",showGlobalFilter:!0},onGlobalFilterChange:$,enableDensityToggle:!1,enableFullScreenToggle:!1,columnResizeMode:"onChange",getRowId:e=>e.id,onPaginationChange:B,state:{columnFilters:Z,globalFilter:U,rowSelection:y},onRowSelectionChange:C,enableStickyHeader:!0,enablePagination:!1,muiSelectCheckboxProps:e=>({onChange:t=>{if(e.row.id){let l={...y};t.target.checked?l[e.row.id]=t.target.checked:l.hasOwnProperty(e.row.id)&&delete l[e.row.id],C(l)}}}),renderBottomToolbarCustomActions:()=>a.jsxDEV(te,{page:i.pageIndex,rowsPerPage:10,rowCount:G,onChangePage:e=>{B({...i,pageIndex:e,pageSize:10})}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:442,columnNumber:33},void 0),icons:{ArrowDownwardIcon:e=>a.jsxDEV(le,{...e},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:458,columnNumber:37},void 0)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:380,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:358,columnNumber:33},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:356,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:229,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/BullhornCandidates/BullhornCandidates.tsx",lineNumber:228,columnNumber:9},void 0)};export{$e as default};
