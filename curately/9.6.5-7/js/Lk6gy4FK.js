import{Y as C,r as l,al as w,cl as x,k as c,L as a,A as d,V as f}from"./Da4I77gy.js";import{F as I}from"./DZEvpEaR.js";import"./CGB7yjkC.js";import"./CSGo64GF.js";import"./BjCz2ClD.js";import"./BRh2WteL.js";import"./jbCO0ybs.js";import"./hAPDiVkM.js";import"./i9j56vBy.js";import"./BdwChdZU.js";import"./Bu7qOu7j.js";import"./D4E8Ilzm.js";import"./DrwwBJQC.js";import"./DR5LSZrV.js";import"./YFmo1cJD.js";import"./DGAwO83Z.js";import"./BAhGwoeq.js";import"./Bfaybex0.js";import"./D8Uve2Qz.js";import"./DLvDnptt.js";import"./Dh0klti0.js";import"./M012vGJb.js";import"./BUgS7mBI.js";import"./Ch9UVcxK.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./DKbR-AmK.js";import"./ElB37qqt.js";import"./C148XJoK.js";import"./CmULUYO7.js";import"./xlFz-ogz.js";import"./MGFt9yJK.js";import"./Ca_RVXIc.js";import"./BAD9UWAF.js";import"./BtfZ3YdN.js";import"./BsB7p8DA.js";import"./D7ld7k1a.js";import"./Bt1msObo.js";import"./CPvg8iC8.js";import"./zBuNwSel.js";import"./D60SUIym.js";import"./DofDWNNU.js";import"./DtpZK6Fd.js";import"./DrNUTWX-.js";import"./CNGds3kx.js";import"./BQvNjWLp.js";import"./rYcqsWUw.js";import"./BiHCwA5A.js";import"./D_Wak6kh.js";import"./CTncTM4t.js";import"./DR0eGGQA.js";import"./EtkZBpYZ.js";import"./DyfpXvbV.js";import"./CCFvLN4X.js";import"./D9g3XlR8.js";const Et=()=>{const n=C(),[v,D]=l.useState(""),{formId:t}=w(),[h,p]=l.useState(!1),[B,F]=l.useContext(x),g=async(m,s)=>{let o=m.map((r,i)=>({...r,isActive:i===0})),e={action:"save",form_name:s,json:{components:o,curately:!0},userid:a.getvalue("recrId"),webFormDesc:"",webformThankContent:"",clientId:a.getvalue("clientId")};e.aliasName=e.form_name.charAt(0),e.form_name=s,t&&(e.form_id=t),d.postWithData("admin","sequenceFormBuilder",e).then(r=>{r.data.Success?(f(t?"Your form has been updated successfully":"Your form has been saved successfully","success"),n(`/${a.getvalue("clientName")}/letter/forms/list`),N(4189)):f(r.data.Message,"error")}).catch(r=>{console.error("Error:",r)})};l.useEffect(()=>{t?(async()=>{let s={action:"get",form_id:t,userid:a.getvalue("recrId"),clientId:a.getvalue("clientId")};d.postWithData("admin","sequenceFormBuilder",s).then(o=>{var u;let e=(u=o.data)==null?void 0:u.form_name;D(e);let i=o.data.json.components.map((y,b)=>({...y,isActive:b===0}));F(i),p(!0)}).catch(o=>{console.error("Error:",o),p(!0)})})():p(!0)},[t]);const N=m=>{d.saveAuditLog(m)},A=()=>{n(`/${a.getvalue("clientName")}/letter/forms/list`)};return c.jsxDEV(c.Fragment,{children:h?c.jsxDEV(I,{callParentSave:g,cancelClicked:A,formIdPassed:t||"",formNamePassed:v,isFormBuilder:!0,showSave:!0,showCancel:!0},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/FormBuilder/Add/AddFormBuilder.tsx",lineNumber:125,columnNumber:17},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/FormBuilder/Add/AddFormBuilder.tsx",lineNumber:123,columnNumber:9},void 0)};export{Et as default};
