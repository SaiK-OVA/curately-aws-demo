import{r as c,L as f,W as A,A as w,V as x,k as e,D as oe,O as r,B as R,o as ne,l as ie,I as W,n as ue,S as K,T as de,b1 as ce}from"./Da4I77gy.js";import{u as me}from"./D7ld7k1a.js";import{c as H,f as $,a as b}from"./BRh2WteL.js";import{E as D}from"./MGFt9yJK.js";import{A as fe}from"./CCFvLN4X.js";import{M as Q}from"./BQvNjWLp.js";import{D as ye}from"./BtfZ3YdN.js";import{D as Ne}from"./Bt1msObo.js";import{T as p}from"./DrwwBJQC.js";import{M as d}from"./YFmo1cJD.js";import{C as be}from"./D-E8YUBN.js";import{l as J}from"./Bu7qOu7j.js";import{M as he}from"./DCKGuMgj.js";import{L as pe}from"./xO5jApXz.js";import{E as ge}from"./D4E8Ilzm.js";import{D as Ce}from"./BM75X-kx.js";import{C as Ge}from"./CYG5EPlH.js";import{S as De}from"./BcvtPrAc.js";import{T as _}from"./D8Uve2Qz.js";import"./DR5LSZrV.js";import"./rYcqsWUw.js";import"./BiHCwA5A.js";import"./DwQ4byYi.js";import"./DGAwO83Z.js";import"./Bob0wRh9.js";import"./Bfaybex0.js";import"./BAhGwoeq.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./BSRMXGwI.js";import"./M012vGJb.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./DVcNEn01.js";const xe=({open:k,handleClose:E,add:g,goalData:n,goalsMetricsList:z})=>{var I,T;const P=()=>{let l=[...a.values.goalAlerts];l.push({alertType:"",alertFrequency:"",alertNotificationReceipt:"",alertSpecificUsers:[],alertSpecificUsersName:[]}),a.setFieldValue("goalAlerts",l)},L=l=>{const o=[...a.values.goalAlerts].filter((i,y)=>y!==l);a.setFieldValue("goalAlerts",o)},[h,C]=c.useState(!1),V=l=>{var t;if((t=n==null?void 0:n.goalAssignees)!=null&&t.length){const o=n.goalAssignees.reduce((i,y,M)=>(i.recrId+=`${M===0?"":","}${y.recrId}`,i.recrName+=`${M===0?"":","}${y.recrName}`,i),{recrId:"",recrName:""});return l==="RECRID"?o.recrId:o.recrName}else return""},U=(l,t)=>{if(t!=null&&t.length){const o=t.reduce((i,y)=>(i.recrId.push(`${y.recrId}`),i.recrName.push(`${y.recrName}`),i),{recrId:[],recrName:[]});return l==="RECRID"?o.recrId:o.recrName}else return[]},O=n?{goalId:n.goalId||"",goalName:n.goalName||"",assignTo:V("RECRID"),timeFrame:n.timeFrame||"",metric:n.metric||"",metricId:n.metricId||"",targetType:n.targetType||"",targetValue:n.targetValue||"",assignRecruiterName:V("RECRNAME"),clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId"),goalAlerts:(I=n==null?void 0:n.goalAlerts)!=null&&I.length?(T=n.goalAlerts)==null?void 0:T.map(l=>({alertType:l.alertType||"",alertFrequency:l.alertFrequency||"",alertNotificationReceipt:l.alertNotificationReceipt||"",alertSpecificUsers:U("RECRID",l.specificUsers),alertSpecificUsersName:U("RECRNAME",l.specificUsers)})):[{alertType:"",alertFrequency:"",alertNotificationReceipt:"",alertSpecificUsers:[],alertSpecificUsersName:[]}]}:{goalId:"",goalName:"",assignTo:"",timeFrame:"",metric:"",metricId:"",targetType:"",targetValue:"",assignRecruiterName:"",goalAlerts:[{alertType:"",alertFrequency:"",alertNotificationReceipt:"",alertSpecificUsers:"",alertSpecificUsersName:[]}],clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId")},v=H().shape({goalName:b(),assignTo:b(),timeFrame:b(),metric:b(),metricId:b(),targetType:b(),targetValue:b(),goalAlerts:$().of(H().shape({alertType:b(),alertFrequency:b(),alertNotificationReceipt:b(),alertSpecificUsers:$(),alertSpecificUsersName:$()}))}),a=me({initialValues:O,validationSchema:v,onSubmit:()=>{G()}}),G=()=>{n.goalId?(C(!0),j(n.goalId)):(C(!0),j())},S=(l,t,o)=>{let i=[...a.values.goalAlerts];t&&o&&(i[l][t]=o,a.setFieldValue("goalAlerts",i))},j=l=>{if(C(!0),a.isValid){let t={clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId"),goalName:a.values.goalName,assignTo:a.values.assignTo.split(","),timeFrame:a.values.timeFrame,metric:a.values.metric,targetType:a.values.targetType,targetValue:a.values.targetValue,goalAlerts:a.values.goalAlerts.map(({alertSpecificUsersName:o,...i})=>({...i})),metricId:Number(a.values.metricId)};l&&(t={...t,goalId:l}),A(w.postWithData("admin","saveOrUpdateGoal",t).then(o=>{o.data.Success?(x(`Goal has been ${l?"updated":"saved"} successfully.`,"success"),a.resetForm(),E(!0)):x(o.data.Message?o.data.Message:"An error occured","error")}))}else x("Please fill all fields.","error")};return e.jsxDEV("div",{children:e.jsxDEV(oe,{maxWidth:"md",fullWidth:!0,open:k,className:"AddUserModal",id:"AddGoal",children:[e.jsxDEV(ye,{className:"py-2",children:e.jsxDEV(r,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:[g?"Add":"Edit"," Goal"]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:252,columnNumber:25},void 0),e.jsxDEV("div",{children:e.jsxDEV(r,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:[e.jsxDEV(R,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:()=>E(!1),children:"Cancel"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:262,columnNumber:33},void 0),e.jsxDEV(R,{variant:"contained",type:"button",color:"primary",onClick:G,children:g?"Save":"Update"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:268,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:256,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:255,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:246,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:245,columnNumber:17},void 0),e.jsxDEV(Ne,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:280,columnNumber:17},void 0),e.jsxDEV(ne,{children:e.jsxDEV("div",{children:e.jsxDEV("form",{onSubmit:a.handleSubmit,children:[e.jsxDEV(r,{container:!0,className:"mb-0",children:e.jsxDEV(r,{size:12,className:"mt-0",children:[e.jsxDEV("label",{className:"inputLabel",children:"Goal Name"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:286,columnNumber:37},void 0),e.jsxDEV(p,{fullWidth:!0,className:"mt-1",id:"goalName",name:"goalName",variant:"outlined",type:"text",size:"small",value:a.values.goalName,onChange:a.handleChange},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:287,columnNumber:37},void 0),e.jsxDEV(D,{formikObj:a,name:"goalName",isFormSubmitted:h},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:296,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:285,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:284,columnNumber:29},void 0),e.jsxDEV(r,{container:!0,className:"mb-0",direction:"row",justifyContent:"start",alignItems:"flex-start",children:[e.jsxDEV(r,{size:6,className:"pr-2",children:[e.jsxDEV("label",{className:"inputLabel",children:"Assign To"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:301,columnNumber:37},void 0),e.jsxDEV(Q,{id:"recruiter",handleChange:(l,t)=>{a.setValues({...a.values,assignRecruiterName:t,assignTo:l})},valuePassed:a.values.assignTo?{label:a.values.assignRecruiterName,id:a.values.assignTo}:{},isMultiple:!0,width:"100%",type:"id",placeholder:""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:302,columnNumber:37},void 0),e.jsxDEV(D,{formikObj:a,name:"assignTo",isFormSubmitted:h},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:318,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:300,columnNumber:33},void 0),e.jsxDEV(r,{size:6,className:"pr-2 mt-1",children:[e.jsxDEV(ie,{display:"flex",alignItems:"center",children:e.jsxDEV("label",{className:"inputLabel",children:"Time Frame"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:323,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:322,columnNumber:37},void 0),e.jsxDEV(p,{fullWidth:!0,id:"timeFrame",name:"timeFrame",variant:"outlined",type:"text",size:"small",select:!0,value:a.values.timeFrame,onChange:a.handleChange,children:[e.jsxDEV(d,{value:"0"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:342,columnNumber:41},void 0),e.jsxDEV(d,{value:"Weekly",children:"Weekly"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:343,columnNumber:41},void 0),e.jsxDEV(d,{value:"Monthly",children:"Monthly"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:344,columnNumber:41},void 0),e.jsxDEV(d,{value:"Quarterly",children:"Quarterly"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:345,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:331,columnNumber:37},void 0),e.jsxDEV(D,{formikObj:a,name:"timeFrame",isFormSubmitted:h},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:347,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:321,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:299,columnNumber:29},void 0),e.jsxDEV(r,{container:!0,className:"mb-0",children:e.jsxDEV(r,{size:12,className:"mt-0",children:[e.jsxDEV("label",{className:"inputLabel",children:"Metric"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:352,columnNumber:37},void 0),e.jsxDEV(p,{fullWidth:!0,className:"mt-0",id:"metric",name:"metric",variant:"outlined",type:"text",size:"small",select:!0,value:a.values.metric,onChange:l=>{const t=l.target.value,o=z.find(i=>i.metric===t);a.setFieldValue("metric",t),a.setFieldValue("metricId",o?o.metricId:"")},children:z.map(l=>e.jsxDEV(d,{value:l.metric,children:l.metric},l.metricId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:372,columnNumber:45},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:353,columnNumber:37},void 0),e.jsxDEV(D,{formikObj:a,name:"metric",isFormSubmitted:h},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:377,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:351,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:350,columnNumber:29},void 0),e.jsxDEV(r,{container:!0,className:"mt-0 mb-0",direction:"row",spacing:1,justifyContent:"start",alignItems:"flex-start",children:[e.jsxDEV(r,{size:3,className:"mt-1",children:e.jsxDEV(r,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:e.jsxDEV("label",{className:"inputLabel mt-3",children:"    Target Value   "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:383,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:382,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:381,columnNumber:33},void 0),e.jsxDEV(r,{size:4,className:"mt-1",children:e.jsxDEV(r,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:[e.jsxDEV(p,{size:"small",fullWidth:!0,id:"targetType",name:"targetType",select:!0,className:"selectLabel",value:a.values.targetType,onChange:a.handleChange,children:[e.jsxDEV(d,{value:"0"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:400,columnNumber:45},void 0),e.jsxDEV(d,{value:"Equal To",children:"Equal To"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:401,columnNumber:45},void 0),e.jsxDEV(d,{value:"Greater Than",children:"Greater Than"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:402,columnNumber:45},void 0),e.jsxDEV(d,{value:"Less Than",children:"Less Than"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:403,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:388,columnNumber:41},void 0),e.jsxDEV(D,{formikObj:a,name:"targetType",isFormSubmitted:h},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:405,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:387,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:386,columnNumber:33},void 0),e.jsxDEV(r,{size:5,className:"mt-1",children:e.jsxDEV(r,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",children:[e.jsxDEV(p,{size:"small",fullWidth:!0,id:"targetValue",name:"targetValue",sx:{maxWidth:"250px"},value:a.values.targetValue,onChange:a.handleChange},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:410,columnNumber:41},void 0),e.jsxDEV(D,{formikObj:a,name:"targetValue",isFormSubmitted:h},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:419,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:409,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:408,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:380,columnNumber:29},void 0),a.values.goalAlerts.map((l,t)=>e.jsxDEV("div",{className:"mt-0",children:e.jsxDEV(r,{size:12,className:"mt-0",children:e.jsxDEV(be,{className:"customCard1 mt-2",children:e.jsxDEV("div",{children:[e.jsxDEV(r,{container:!0,direction:"row",className:"mb-1",children:[e.jsxDEV(r,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Alert Type"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:437,columnNumber:57},void 0),e.jsxDEV(p,{fullWidth:!0,className:"mt-1",id:`alertType${t}`,name:`alertType${t}`,variant:"outlined",type:"text",size:"small",select:!0,value:l.alertType,onChange:o=>S(t,"alertType",o.target.value),children:[e.jsxDEV(d,{value:"Goal Progress",children:"Goal Progress"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:449,columnNumber:61},void 0),e.jsxDEV(d,{value:"Goal Met",children:"Goal Met"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:450,columnNumber:61},void 0),e.jsxDEV(d,{value:"Goal off Track",children:"Goal off Track"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:451,columnNumber:61},void 0)]},`al.${t}.alertType`,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:438,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:436,columnNumber:53},void 0),e.jsxDEV(r,{size:5,className:"mt-1 ml-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Alert Frequency"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:457,columnNumber:57},void 0),e.jsxDEV(p,{fullWidth:!0,className:"mt-1",id:`alertFrequency${t}`,name:`alertFrequency${t}`,variant:"outlined",type:"text",size:"small",select:!0,sx:{minWidth:"98px"},value:l.alertFrequency,onChange:o=>S(t,"alertFrequency",o.target.value),children:[e.jsxDEV(d,{value:"Daily",children:"Daily"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:470,columnNumber:61},void 0),e.jsxDEV(d,{value:"Weekly",children:"Weekly"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:471,columnNumber:61},void 0),e.jsxDEV(d,{value:"Monthly",children:"Monthly"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:472,columnNumber:61},void 0)]},`al.${t}.alertFrequency`,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:458,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:456,columnNumber:53},void 0),e.jsxDEV(r,{className:"mt-1 ml-1",children:a.values.goalAlerts.length>1?e.jsxDEV(W,{onClick:()=>L(t),className:"closeIcon",children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:481,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:480,columnNumber:61},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:477,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:435,columnNumber:49},void 0),e.jsxDEV(r,{container:!0,direction:"row",children:[e.jsxDEV(r,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Notification Receipt"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:491,columnNumber:57},void 0),e.jsxDEV(p,{fullWidth:!0,className:"mt-1",id:`alertNotificationReceipt${t}`,name:`alertNotificationReceipt${t}`,variant:"outlined",type:"text",size:"small",select:!0,sx:{minWidth:"200px"},value:l.alertNotificationReceipt,onChange:o=>S(t,"alertNotificationReceipt",o.target.value),children:[e.jsxDEV(d,{value:"Team Members assigned to the goals",children:"Team Members assigned to the goals"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:504,columnNumber:61},void 0),e.jsxDEV(d,{value:"Everyone",children:"Everyone"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:505,columnNumber:61},void 0),e.jsxDEV(d,{value:"Only Me",children:"Only Me"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:506,columnNumber:61},void 0),e.jsxDEV(d,{value:"Specific Users",children:"Specific Users"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:507,columnNumber:61},void 0)]},`al.${t}.alertNotificationReceipt`,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:492,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:490,columnNumber:53},void 0),l.alertNotificationReceipt==="Specific Users"&&e.jsxDEV(r,{size:5,className:"mt-1 ml-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Specific Users"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:512,columnNumber:62},void 0),e.jsxDEV(Q,{id:`goalAlerts[${t}].alertSpecificUsers`,className:"mt-1",handleChange:(o,i)=>{console.log({id:o,name:i},"test.."),a.setFieldValue(`goalAlerts[${t}].alertSpecificUsers`,o.split(",")),a.setFieldValue(`goalAlerts[${t}].alertSpecificUsersName`,i.split(","))},valuePassed:Array.isArray(a.values.goalAlerts[t].alertSpecificUsers)?{label:a.values.goalAlerts[t].alertSpecificUsersName.join(),id:a.values.goalAlerts[t].alertSpecificUsers.join()}:a.values.goalAlerts[t].alertSpecificUsers?{label:a.values.goalAlerts[t].alertSpecificUsersName,id:a.values.goalAlerts[t].alertSpecificUsers}:{},isMultiple:!0,width:"100%",type:"id",placeholder:"Select Specific Users"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:513,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:511,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:489,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:427,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:426,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:425,columnNumber:37},void 0)},t,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:424,columnNumber:33},void 0)),e.jsxDEV(r,{container:!0,className:"mb-0",justifyContent:"flex-end",children:e.jsxDEV(R,{className:"mr-5",color:"primary",size:"small",startIcon:e.jsxDEV(fe,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:546,columnNumber:98},void 0),onClick:P,children:"Add Alert"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:546,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:545,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:283,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:282,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:281,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:243,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/AddGoal.tsx",lineNumber:242,columnNumber:9},void 0)},ua=()=>{const k=f.checkSettings(110002)===5||f.checkSettings(110002)===6,E=f.checkSettings(110002)===6,[g,n]=c.useState(!1),[z,P]=c.useState(!1),[L,h]=c.useState(!1),[C,V]=c.useState([]),[U,O]=c.useState(),[v,a]=c.useState(""),[G,S]=c.useState([]),[j,I]=c.useState([]),[T,l]=c.useState({goalName:"",timeFrame:"",metric:"",target:"",targetValue:"",alert:[{alertType:"",alertFrequency:"",notificationReceipt:""}]}),[t,o]=c.useState({}),[i,y]=c.useState({pageIndex:0,pageSize:10}),M=s=>{X(s)},X=s=>{A(w.postWithData("admin","getGaolById",{goalId:s,clientId:f.getvalue("clientId")}).then(u=>{l(u.data.goalDetail),h(!0),n(!0)}))},Y=()=>{l({goalName:"",timeFrame:"",metric:"",target:"",targetValue:"",alert:[{alertType:"",alertFrequency:"",notificationReceipt:""}]}),n(!0),h(!1)},Z=s=>{n(!1),s&&F()};c.useEffect(()=>{const s=C.filter(u=>{var m;const N=v||"";return(m=u.goalName)==null?void 0:m.toLowerCase().includes(N.toLowerCase())});S(s)},[v,C]);let ee={clientId:f.getvalue("clientId")};const F=c.useCallback(J.debounce(()=>{A(w.postWithData("admin","getGoalList",ee).then(s=>{var N;let u=s.data.goalDetailsList;for(let m=0;m<u.length;m++)((N=u[m].createdDate)==null?void 0:N.length)>19&&(u[m].createdDate=pe.ServerEDTToSystem(u[m].createdDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a"));V(s.data.goalDetailsList)}))},400),[]),ae=J.debounce(F,300);c.useEffect(()=>{!g&&ae(),se()},[]);const te=(s,u)=>{ce(`Are you sure you want to delete ${u} Goal ?`,()=>{le(s),F()})},le=s=>{A(w.postWithData("admin","deleteGoal",{clientId:f.getvalue("clientId"),goalId:s,recrId:f.getvalue("recrId")}).then(u=>{u.data.Success?(x("Goal has been deleted successfully.","success"),F()):x(u.data.Message?u.data.Message:"An error occured while deleting","error")}).catch(u=>{var N,m,q,B;x((m=(N=u.response)==null?void 0:N.data)!=null&&m.Message?(B=(q=u.response)==null?void 0:q.data)==null?void 0:B.Message:"An error occured while deleting","error")}))},se=()=>{A(w.getCall("admin","getGoalMetrics/0").then(s=>{var u,N;if((u=s==null?void 0:s.data)!=null&&u.Success){let m=((N=s==null?void 0:s.data)==null?void 0:N.goalMetrics)||[];I([...m])}}).catch(s=>{console.error("Error fetching candidate status list",s)}))},re=c.useMemo(()=>[{accessorKey:"goalName",header:"GoalName",enableColumnPinning:!0,size:200},{accessorKey:"metric",header:"Metric Name",size:250},{accessorKey:"createdDate",header:"Created On",size:150},{accessorKey:"Actions",header:"Actions",enableSorting:!1,Cell:({row:s})=>e.jsxDEV(K,{children:e.jsxDEV(K,{direction:"row",children:[k?e.jsxDEV(_,{title:"Edit",placement:"top",color:"primary",children:e.jsxDEV(W,{onClick:()=>{M(s.original.goalId)},children:e.jsxDEV(ge,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:289,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:284,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:283,columnNumber:17},void 0):null,E?e.jsxDEV(_,{title:"Delete",placement:"top",color:"primary",children:e.jsxDEV(W,{onClick:()=>{te(s.original.goalId,s.original.goalName)},children:e.jsxDEV(Ce,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:303,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:295,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:294,columnNumber:17},void 0):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:281,columnNumber:13},void 0)},s.original.goalId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:280,columnNumber:11},void 0)}],[]);return e.jsxDEV("div",{children:e.jsxDEV("div",{className:"pt-3 px-3 ",id:"Goals",children:[e.jsxDEV(r,{container:!0,direction:"row",className:"customCard px-4 py-2",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[e.jsxDEV(de,{variant:"h6",className:"header",children:"Goals"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:328,columnNumber:11},void 0),e.jsxDEV("div",{children:e.jsxDEV(r,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(R,{variant:"contained",color:"primary",size:"small",className:"ml-2",onClick:()=>Y(),children:"Create Goal"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:348,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:332,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:331,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:319,columnNumber:9},void 0),e.jsxDEV(r,{container:!0,className:"customCard p-0 filterExpand-grid",children:e.jsxDEV(r,{sx:{width:"calc(100%)"},children:e.jsxDEV("div",{className:"MRTableCustom  pl-0 ",children:e.jsxDEV(he,{columns:re,data:G,state:{rowSelection:t,pagination:i,globalFilter:v},enableStickyHeader:!0,initialState:{columnPinning:{left:["mrt-row-select","goalName"]},density:"compact",showGlobalFilter:!0},muiPaginationProps:{rowsPerPageOptions:[10],showFirstButton:!1,showLastButton:!1,SelectProps:{style:{display:"none"}}},enablePagination:!0,renderBottomToolbarCustomActions:()=>e.jsxDEV(Ge,{page:i.pageIndex,rowsPerPage:10,rowCount:G.length,onChangePage:s=>{y({...i,pageIndex:s,pageSize:10})},showCount:!1},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:387,columnNumber:19},void 0),onGlobalFilterChange:a,enableFilters:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",onPaginationChange:y,getRowId:s=>s.goalId,icons:{ArrowDownwardIcon:s=>e.jsxDEV(De,{...s},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:410,columnNumber:21},void 0)},rowCount:G.length},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:363,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:362,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:361,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:360,columnNumber:9},void 0),g?e.jsxDEV(xe,{open:g,handleClose:Z,goalData:T,add:!L,goalsMetricsList:j},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:419,columnNumber:11},void 0):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:318,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Goals/Goals.tsx",lineNumber:317,columnNumber:5},void 0)};export{ua as default};
