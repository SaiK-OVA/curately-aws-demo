import{r as t,k as e,D as _,O as f,B as v,o as G,L as m,W as w,A as N,T as c,S as L,I as S,l as k,b1 as Z,V as ee}from"./Da4I77gy.js";import{A as ae}from"./BeoDs3QF.js";import{u as te}from"./D7ld7k1a.js";import{c as le,a as O}from"./BRh2WteL.js";import{I as ie}from"./BNdv2g09.js";import{D as se}from"./Dx8R6C6S.js";import{D as J,l as re}from"./Bu7qOu7j.js";import{C as oe,L as ne}from"./dDZIxnuW.js";import{E as me}from"./DeL85OGk.js";import{A as ue}from"./hCPHkOeY.js";import{b as ce}from"./DCKGuMgj.js";import{S as K}from"./jbCO0ybs.js";import{D as Q}from"./BtfZ3YdN.js";import{D as X}from"./Bt1msObo.js";import{e as de,P as ye}from"./DR5LSZrV.js";import{e as $,a as q}from"./D4E8Ilzm.js";import{A as De}from"./CCFvLN4X.js";import{L as H}from"./BAD9UWAF.js";import{M as fe}from"./fJpJZNrn.js";import{S as ge}from"./C-GPl67U.js";import{C as Y}from"./D-E8YUBN.js";import{P as Ce}from"./BQF8Xy5J.js";import{D as Ne}from"./Dr9pSDy8.js";import{M as be}from"./CNGds3kx.js";import{C as Ee}from"./qhswy7LT.js";import{T as pe}from"./D8Uve2Qz.js";import"./Bfaybex0.js";import"./DrwwBJQC.js";import"./BAhGwoeq.js";import"./CkTy0Aeu.js";import"./D_Wak6kh.js";import"./YFmo1cJD.js";import"./DGAwO83Z.js";import"./MGFt9yJK.js";import"./BQvNjWLp.js";import"./rYcqsWUw.js";import"./BiHCwA5A.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./CoU6RXib.js";import"./CRckWBe1.js";import"./DEbmU1qo.js";import"./CTncTM4t.js";import"./BNH9mSiv.js";import"./CmULUYO7.js";import"./Dh0klti0.js";import"./M012vGJb.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./BSRMXGwI.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./DVcNEn01.js";import"./BsB7p8DA.js";import"./i9j56vBy.js";import"./CPvg8iC8.js";const xe=({emailData:o})=>{const[n,r]=t.useState(!0),d=y=>{const l=document.createElement("span");return l.style.display="none",l.innerHTML=y,l.remove(),l.textContent||l.innerText};return e.jsxDEV("div",{className:"email-block-wrapper",children:[e.jsxDEV(c,{variant:"h3",className:"email-sub",children:o.subject},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:36,columnNumber:13},void 0),e.jsxDEV(L,{direction:"row",children:[e.jsxDEV("div",{className:"icon",children:o.type==="OUT"?e.jsxDEV(ue,{className:"out"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:39,columnNumber:49},void 0):e.jsxDEV(ce,{className:"in"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:39,columnNumber:87},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("div",{className:"email-wrapper",children:[e.jsxDEV(L,{component:"div",className:"email-header",justifyContent:"space-between",onClick:()=>r(!n),direction:"column",children:[e.jsxDEV(L,{direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[e.jsxDEV("div",{children:[e.jsxDEV(L,{direction:"row",children:[e.jsxDEV(c,{variant:"h4",className:"name",children:o.recrName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:52,columnNumber:37},void 0),n&&e.jsxDEV(c,{className:"e-id",children:"<"+o.emailId+">"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:53,columnNumber:50},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:51,columnNumber:33},void 0),!n&&e.jsxDEV(c,{className:"e-id",children:"to "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:55,columnNumber:47},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:50,columnNumber:29},void 0),e.jsxDEV("div",{className:"date",children:[J.fromISO(o.date.replace(" ","T")).toFormat("MM/dd/yyyy hh:mm:ss a"),e.jsxDEV(S,{children:e.jsxDEV(K,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:60,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:59,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:57,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:49,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-wrap",children:n&&e.jsxDEV(c,{className:"body-text",children:d(o.body)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:65,columnNumber:42},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:64,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:42,columnNumber:21},void 0),!n&&e.jsxDEV("div",{className:"email-body",dangerouslySetInnerHTML:{__html:o.body}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:68,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:41,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:37,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:35,columnNumber:9},void 0)},he=({dialogOpen:o,onClose:n,accountId:r})=>{const[d,y]=t.useState([]),l=g=>{const j={emailId:1,clientId:m.getvalue("clientId"),recrId:m.getvalue("recrId")};w(N.postWithData("admin","emailLog",j).then(i=>{i.data.Message==="Success"&&y(i.data.emailslog)}).catch(i=>console.error("Failed to fetch email preview:",i)))};return t.useEffect(()=>{l()},[r]),e.jsxDEV(_,{open:!!o,onClose:n,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Q,{className:"py-2",children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Email Details"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:111,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(v,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:n,children:"Close"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:114,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:113,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:112,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:104,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:103,columnNumber:13},void 0),e.jsxDEV(X,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:119,columnNumber:13},void 0),e.jsxDEV(G,{className:"p-1",sx:{minHeight:"300px"},children:d.map(g=>e.jsxDEV(xe,{emailData:g},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:122,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:102,columnNumber:9},void 0)},ve=({dialogOpen:o,onClose:n,accountData:r})=>{const[d,y]=t.useState(!1),[l,g]=t.useState([]),[j,i]=t.useState(!1),[E,P]=t.useState(!0),[D,p]=t.useState(1),[b,B]=t.useState(0),[M,x]=t.useState(!1),[T,V]=t.useState(""),F=()=>{i(!0)},W=()=>{g(l),P(!0)},A=()=>{p(a=>Math.max(a-1,1))},R=()=>{p(a=>a<b?a+1:a)},h=a=>{V(a),x(!0)},I=()=>{const a={accountId:r.account,page:D,pageSize:10};w(N.getByParams(193,"/Curately/EmailEngine/getMessages.jsp",a).then(u=>{u.data&&u.data.messages&&(g(u.data.messages),B(u.data.pages))}).catch(u=>console.error("Failed to fetch inbox emails:",u)))};return t.useEffect(()=>{I()},[r.account,D]),e.jsxDEV(_,{open:!!o,onClose:n,maxWidth:"xl",fullWidth:!0,id:"curatelyMailDialog",children:[e.jsxDEV(Q,{className:"py-2",children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Curately Mail"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:121,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(v,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:n,children:"Close"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:124,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:123,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:122,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:114,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV(X,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV(G,{children:e.jsxDEV("div",{className:"emaillist-wrap",children:[e.jsxDEV("div",{className:"sidebar",children:e.jsxDEV(de,{component:"nav",children:[e.jsxDEV($,{className:"compose",onClick:()=>y(!0),sx:{cursor:"pointer",backgroundColor:"#757ce8",color:"white",borderRadius:"5px"},children:[e.jsxDEV(q,{children:e.jsxDEV(De,{style:{color:"white"}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:137,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:136,columnNumber:33},void 0),e.jsxDEV(H,{primary:"Compose"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:139,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:135,columnNumber:29},void 0),e.jsxDEV($,{sx:{cursor:"pointer"},onClick:W,children:[e.jsxDEV(q,{children:e.jsxDEV(fe,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:143,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:142,columnNumber:33},void 0),e.jsxDEV(H,{primary:"Inbox"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:145,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:141,columnNumber:29},void 0),e.jsxDEV($,{sx:{cursor:"pointer"},onClick:F,children:[e.jsxDEV(q,{children:e.jsxDEV(ge,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:149,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:148,columnNumber:33},void 0),e.jsxDEV(H,{primary:"Sent"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:151,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:147,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:134,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:133,columnNumber:21},void 0),e.jsxDEV(f,{children:[e.jsxDEV(k,{style:{marginLeft:"240px",padding:"0px",overflow:"auto",height:"calc(100vh - 210px)",width:"calc(100vw - 340px)"},children:E&&(l==null?void 0:l.length)>0?l.map(a=>{var u;return e.jsxDEV(e.Fragment,{children:e.jsxDEV(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px",backgroundColor:a.unseen?"#ffffff":"#f0f0f0",boxShadow:"none",borderBottom:"1px solid #e0e0e0","&:hover":{backgroundColor:"#f7f7f7"},color:"#202124",fontWeight:"bold",marginBottom:"8px"},children:[e.jsxDEV(k,{sx:{display:"flex",alignItems:"center",flex:1},children:[e.jsxDEV(S,{size:"large",sx:{marginRight:"16px"},children:e.jsxDEV(oe,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:184,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:183,columnNumber:49},void 0),e.jsxDEV(S,{children:e.jsxDEV(K,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:187,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:186,columnNumber:49},void 0),e.jsxDEV(S,{children:e.jsxDEV(ne,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:190,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:189,columnNumber:49},void 0),e.jsxDEV(c,{variant:"body1",className:"emailTitle",component:"span",onClick:()=>h(a.emailId),children:(u=a==null?void 0:a.from)==null?void 0:u.name},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:192,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:182,columnNumber:45},void 0),e.jsxDEV(k,{sx:{flex:2,textAlign:"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.jsxDEV(c,{variant:"subtitle1",onClick:()=>h(a.emailId),className:"c-pointer",children:a.subject},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:198,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:197,columnNumber:45},void 0),e.jsxDEV(c,{variant:"caption",sx:{flex:0,whiteSpace:"nowrap"},children:J.fromISO(a.date).toFormat("MM/dd/yyyy hh:mm:ss a")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:201,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:167,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:166,columnNumber:37},void 0)}):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:156,columnNumber:25},void 0),E&&(l==null?void 0:l.length)>0&&e.jsxDEV(k,{sx:{display:"flex",justifyContent:"center",pt:2,height:"43px"},children:[e.jsxDEV(v,{className:"btnSecondary",onClick:A,disabled:D<=1,variant:"outlined",color:"secondary",children:"Previous"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:213,columnNumber:33},void 0),e.jsxDEV(c,{sx:{margin:"0 15px"},children:["Page ",D," of ",b]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:214,columnNumber:33},void 0),e.jsxDEV(v,{className:"btnSecondary",onClick:R,disabled:D>=b,variant:"outlined",type:"button",color:"secondary",children:"Next"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:215,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:212,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV(f,{children:[d&&e.jsxDEV(me,{dialogOpen:d,onClose:()=>y(!1),name:"",emailId:"",fromEmail:r.email?r.email:"",fromName:r.name?r.name:r.account?r.account:"",curatelyMail:!0,emailAccountId:r.account},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:220,columnNumber:42},void 0),M&&e.jsxDEV(he,{dialogOpen:M,onClose:()=>x(!1),accountId:r.account},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:231,columnNumber:46},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:219,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:131,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:112,columnNumber:9},void 0)},Aa=()=>{var h,I,a,u,U,z;const[o,n]=t.useState(!1),[r,d]=t.useState({email:"",name:"",state:"",type:"",account:""}),y=le({account:O().required("Required"),name:O().required("Required"),email:O().required("Required").email("Invalid email format"),redirectUrl:O()}),l=te({initialValues:{account:`${m.getvalue("clientId")}_${m.getvalue("recrId")}`,name:m.getvalue("recrFullName"),email:"",redirectUrl:window.location.href},validationSchema:y,onSubmit:()=>{},validateOnMount:!0}),g=()=>{w(N.getByParams(193,"/Curately/EmailEngine/createAccount.jsp",{clientId:m.getvalue("clientId"),...l.values}).then(s=>{if(console.log(s.data),s.data.url){let C=s.data.url.replace("http://54.187.123.62:3000","https://emailengine.curately.ai");ie.check(C)&&(window.location.href=C)}}))},j=s=>{w(N.getByParams(193,"/Curately/EmailEngine/deleteAccount.jsp",{clientId:m.getvalue("clientId"),accountId:s}).then(C=>{console.log(C.data),C.data.deleted?(localStorage.setItem("emailEngineAccountActive","0"),b(!1),p()):ee("An error occured while deleting account.","error")}))},[i,E]=t.useState([]),[P,D]=t.useState(!1),p=t.useCallback(re.debounce(()=>{w(N.getByParams(193,"/Curately/EmailEngine/getAccounts.jsp",{clientId:m.getvalue("clientId"),recrId:m.getvalue("recrId")}).then(s=>{D(!1),s.data.account===`${m.getvalue("clientId")}_${m.getvalue("recrId")}`?(E([s.data]),Number(localStorage.getItem("emailEngineAccountActive"))||(localStorage.setItem("emailEngineAccountActive","1"),b(!0))):E([])}))},400),[]),b=s=>{N.postWithData("admin","updateRecrEmailEngineAccountStatus",{clientId:m.getvalue("clientId"),recrId:m.getvalue("recrId"),emailEngineAccountCreated:s}).then(C=>{console.log(C.data)})},B=s=>{d(s),console.log(s),n(!0)};t.useEffect(()=>{p(),D(!0)},[]);const M=()=>{l.resetForm(),g()},x=s=>{N.saveAuditLog(s)};t.useEffect(()=>{x(4298)},[]);const[T,V]=t.useState(null),F=s=>{V(s.currentTarget)},W=()=>{V(null)},A=!!T,R=A?"simple-popover":void 0;return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"p-3 ",id:"EmailAccountsList",children:[e.jsxDEV(f,{direction:"row",className:"customCard px-4 py-2",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:e.jsxDEV(c,{variant:"h6",className:"header",children:"Email Account"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:325,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:317,columnNumber:17},void 0),P?null:e.jsxDEV(f,{container:!0,children:i.length!==0?e.jsxDEV(Y,{className:"emailAccount-card",children:e.jsxDEV(Ee,{children:[e.jsxDEV("div",{className:"action",children:[e.jsxDEV(S,{onClick:F,children:e.jsxDEV(be,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:346,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:345,columnNumber:33},void 0),e.jsxDEV(ye,{id:R,open:A,anchorEl:T,onClose:W,className:"accountActionPopover",anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxDEV(pe,{title:"Delete",children:e.jsxDEV(se,{sx:{color:"red"},className:"fs-18 cursor-pointer c-red",onClick:()=>{Z(`Are you sure you want to delete Account -  ${i[0].name} ?`,()=>{j(i[0].account)},"warning")}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:360,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:359,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:348,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:344,columnNumber:29},void 0),e.jsxDEV("h4",{className:"hightLightTd",onClick:()=>B(i[0]),children:(h=i[0])==null?void 0:h.name},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:370,columnNumber:29},void 0),e.jsxDEV("p",{children:(I=i[0])==null?void 0:I.email},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:373,columnNumber:29},void 0),e.jsxDEV("p",{children:e.jsxDEV("span",{className:"textCapital",children:(a=i[0])==null?void 0:a.type},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:374,columnNumber:32},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:374,columnNumber:29},void 0),e.jsxDEV("p",{children:e.jsxDEV("span",{className:"status-btn "+(((u=i[0])==null?void 0:u.state)==="connected"?"connected":"pending"),children:[((U=i[0])==null?void 0:U.state)==="connected"?e.jsxDEV(Ne,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:379,columnNumber:45},void 0):e.jsxDEV(Ce,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:381,columnNumber:45},void 0),e.jsxDEV("span",{className:"px-2",children:(z=i[0])==null?void 0:z.state},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:383,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:376,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:375,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:343,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:342,columnNumber:54},void 0):e.jsxDEV(v,{className:"user",variant:"outlined",size:"large",onClick:()=>{M(),x(4299)},startIcon:e.jsxDEV(ae,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:390,columnNumber:40},void 0),children:"Connect Account"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:389,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:341,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:316,columnNumber:13},void 0),o&&e.jsxDEV(ve,{dialogOpen:o,onClose:()=>n(!1),accountData:r},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:513,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:315,columnNumber:9},void 0)};export{Aa as default};
