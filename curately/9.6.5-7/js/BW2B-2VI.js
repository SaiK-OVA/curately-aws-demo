import{k as a,r as c,S as y,l as N,T as l,A as V,L as b}from"./Da4I77gy.js";import{D as v}from"./Bu7qOu7j.js";import{M as f}from"./DQvjckqJ.js";import{E as L}from"./VBuYjXmN.js";import{L as j}from"./xO5jApXz.js";import{C as g}from"./qhswy7LT.js";import{T as n}from"./D8Uve2Qz.js";import"./D4E8Ilzm.js";import"./DrwwBJQC.js";import"./DR5LSZrV.js";import"./YFmo1cJD.js";import"./DGAwO83Z.js";import"./BAhGwoeq.js";import"./Bfaybex0.js";import"./DCKGuMgj.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./BSRMXGwI.js";import"./M012vGJb.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./BtfZ3YdN.js";import"./Bt1msObo.js";import"./DVcNEn01.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./BcvtPrAc.js";import"./Ch9UVcxK.js";import"./i9j56vBy.js";import"./DKC21gSL.js";import"./D-E8YUBN.js";import"./D7ld7k1a.js";import"./BRh2WteL.js";import"./DWuqg113.js";import"./Dx8R6C6S.js";import"./CRckWBe1.js";import"./CoU6RXib.js";import"./BQvNjWLp.js";import"./rYcqsWUw.js";import"./BiHCwA5A.js";import"./Dh0klti0.js";import"./MGFt9yJK.js";import"./CsO190yB.js";import"./6vuVcGup.js";const M=({content:s,maxLines:C,expanded:r})=>{s=s.replace('<style type="text/css">','<style type="text/css"> .htmlCont {'),s=s.replace('<style style="text/css">','<style style="text/css"> .htmlCont {'),s=s.replace("<style>","<style> .htmlContent {"),s=s.replace("</style>","} </style>");const m=s.replace(/<p>\s*<\/p>/g,"").replace(/<br\s*\/?>/g,""),o=document.createElement("div");o.innerHTML=m;const u=o.innerText.trim();return a.jsxDEV("div",{className:"readMoreContent",style:{maxHeight:r?"none":`${C*20}px`,color:r?"#1a1a1a":"#737373",padding:r?"10px":"2px",overflow:r?"auto":"hidden"},children:a.jsxDEV("div",{dangerouslySetInnerHTML:{__html:r?m:u.substring(0,50)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/ReadMoreMaster.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/ReadMoreMaster.tsx",lineNumber:26,columnNumber:5},void 0)},ve=({candidateId:s,emailId:C,contactId:r,refreshList:m})=>{const[o,u]=c.useState([]),[x,h]=c.useState({}),E=()=>{try{V.postWithData("admin","emailLog",{userId:s||"",contId:r||"",page:0,clientId:b.getvalue("clientId"),recrId:b.getvalue("recrId")}).then(e=>{if(e.data.Message==="Success"){let d=e.data.emailslog,t=JSON.parse(JSON.stringify(d));for(let i=0;i<t.length;i++)t[i].body=f.RemoveStyleTag(t[i].body),t[i].subject=t[i].subject?t[i].subject.replace(/[^a-zA-Z0-9~`!@#$%^&*()_+-={}|:;<>,.?\/ \n[\]']/g,""):"",t[i].textBody=f.ToText(t[i].body);t=t.sort((i,w)=>new Date(w.date).getTime()-new Date(i.date).getTime()),u(t)}})}catch{}},D=e=>{h(d=>({...d,[e]:!d[e]}))},p=e=>v.fromFormat(e.substring(0,19),"yyyy-MM-dd hh:mm:ss").toFormat("MM/dd/yyyy, t");return c.useEffect(()=>{E()},[m]),a.jsxDEV("div",{className:"EmailList",children:a.jsxDEV(y,{className:"mainStack",children:a.jsxDEV(y,{sx:{width:"100%"},children:a.jsxDEV(N,{className:"",sx:{padding:"0 !important"},children:[a.jsxDEV(N,{className:"mainHeadBox px-0",children:a.jsxDEV(l,{className:"Emails-Style",children:"Email History"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:167,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:166,columnNumber:25},void 0),a.jsxDEV(y,{children:a.jsxDEV("div",{className:"cardBottom",children:o.map((e,d)=>{var i;const t=((i=e._id)==null?void 0:i.$oid)||e.emailId||d;return a.jsxDEV(g,{className:"cardContentHover handcursor px-0 d-flex",onClick:()=>D(t),children:a.jsxDEV("div",{className:"email_maindiv",children:[e.type==="OUT"?a.jsxDEV(l,{className:"email-recruiter",sx:{paddingBottom:"2px !important"},children:[a.jsxDEV(n,{title:e.senderEmail,children:e.recrName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:189,columnNumber:53},void 0),e.candidateName&&a.jsxDEV(a.Fragment,{children:[" to ",a.jsxDEV(n,{title:e.candidateEmail,children:a.jsxDEV("u",{children:e.candidateName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:192,columnNumber:94},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:192,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:190,columnNumber:76},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:188,columnNumber:72},void 0):a.jsxDEV(l,{className:"email-recruiter",sx:{paddingBottom:"2px !important"},children:[a.jsxDEV(n,{title:e.candidateEmail,children:a.jsxDEV("u",{children:e.candidateName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:198,columnNumber:94},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:198,columnNumber:57},void 0),e.candidateName&&a.jsxDEV(a.Fragment,{children:[" to ",a.jsxDEV(n,{title:e.senderEmail,children:e.recrName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:201,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:199,columnNumber:80},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:197,columnNumber:53},void 0),a.jsxDEV(l,{className:"email-subject tt-capital",children:e.subject.length>50?e.subject.trim().substring(0,50)+"...":e.subject.trim()},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:208,columnNumber:49},void 0),a.jsxDEV(l,{variant:"subtitle2",color:"text.secondary",children:a.jsxDEV(M,{content:e.body,maxLines:1,expanded:!!x[t]},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:213,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:211,columnNumber:49},void 0),a.jsxDEV("div",{className:"dateSection",children:a.jsxDEV(l,{variant:"body2",color:"text.secondary",sx:{fontSize:"12px",fontWeight:"500"},children:[a.jsxDEV(n,{title:e.type==="OUT"?`Sent on ${p(e.date)}`:`Received on ${p(e.date)}`,children:a.jsxDEV(L,{sx:{fontSize:"16px",verticalAlign:"middle",paddingRight:"2px"}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:230,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:224,columnNumber:57},void 0)," ",e.date?j.ServerEDTToSystem(e.date.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a"):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:220,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:219,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:187,columnNumber:45},void 0)},d+"emailList",!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:175,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:170,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:169,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:165,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:164,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:163,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:162,columnNumber:9},void 0)};export{ve as default};
