import{e as _e,j as Be,r as f,k as e,O as g,B as R,T as Re,I as Se,D as rt,n as qe,o as lt,U as at,W as ae,A as q,V as M,L as J,al as $e,S as Ve,b1 as Ce,C as ot}from"./Da4I77gy.js";import{W as st,S as nt,a as X,P as ut,D as it}from"./BiwWFFtI.js";import{M as ct}from"./DCKGuMgj.js";import{Q as dt,a as mt,u as ft}from"./DRIlB66D.js";import{S as bt}from"./BcvtPrAc.js";import{C as We}from"./EtkZBpYZ.js";import{E as yt}from"./VBuYjXmN.js";import{E as pt}from"./DeL85OGk.js";import{A as Nt}from"./BeoDs3QF.js";import{B as wt,E as gt,e as Ie,a as Fe,b as ht,c as Ct}from"./D4E8Ilzm.js";import{R as xt}from"./DFMsP61q.js";import{u as vt,F as jt,a as Dt,z as kt}from"./D7ld7k1a.js";import{c as Ee,a as G,f as Je,d as St,i as Vt}from"./BRh2WteL.js";import{E as fe}from"./MGFt9yJK.js";import{m as Te}from"./rYcqsWUw.js";import{T as Wt}from"./D9sgBaIk.js";import{M as Oe}from"./BQvNjWLp.js";import{D as It}from"./BtfZ3YdN.js";import{D as Pe}from"./Bt1msObo.js";import{T as Ft}from"./zBuNwSel.js";import{T as Ae}from"./D60SUIym.js";import{T as A,C as Et}from"./DrwwBJQC.js";import{M as C}from"./YFmo1cJD.js";import{V as Jt}from"./BpLfIXrP.js";import{M as Tt}from"./DtpZK6Fd.js";import{M as xe}from"./DR5LSZrV.js";import{V as Pt}from"./DjedvD6F.js";import{M as At}from"./DWuqg113.js";import{S as Mt}from"./BxMRPSei.js";import{L as Me,B as _t}from"./BAD9UWAF.js";import{T as he}from"./D8Uve2Qz.js";import{D as Bt}from"./BtweGowS.js";import"./Bu7qOu7j.js";import"./Bfaybex0.js";import"./BAhGwoeq.js";import"./Cxcu69Ci.js";import"./BjCz2ClD.js";import"./jbCO0ybs.js";import"./hAPDiVkM.js";import"./i9j56vBy.js";import"./BdwChdZU.js";import"./DLvDnptt.js";import"./Dh0klti0.js";import"./M012vGJb.js";import"./BUgS7mBI.js";import"./Ch9UVcxK.js";import"./DwQ4byYi.js";import"./DGAwO83Z.js";import"./Bob0wRh9.js";import"./DKbR-AmK.js";import"./ElB37qqt.js";import"./C148XJoK.js";import"./CmULUYO7.js";import"./xlFz-ogz.js";import"./Ca_RVXIc.js";import"./DeuTjEyN.js";import"./Bj2t7Uq6.js";import"./Cws_NMfC.js";import"./vZse7HBf.js";import"./BPQZhkbd.js";import"./DKC21gSL.js";import"./DQvjckqJ.js";import"./D-E8YUBN.js";import"./CTncTM4t.js";import"./Dx8R6C6S.js";import"./CRckWBe1.js";import"./CoU6RXib.js";import"./xO5jApXz.js";import"./CsO190yB.js";import"./6vuVcGup.js";import"./CU3lJ7JN.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./Dw4YnGpZ.js";import"./Cb9wbhoa.js";import"./BSRMXGwI.js";import"./DGhwAF8n.js";import"./DVcNEn01.js";import"./CkTy0Aeu.js";import"./D_Wak6kh.js";import"./DEbmU1qo.js";import"./BNH9mSiv.js";import"./CCFvLN4X.js";import"./BiHCwA5A.js";import"./BNB2War8.js";import"./juNY9UML.js";import"./Bxhc4WW8.js";import"./DFZziAyB.js";import"./SCPkErTY.js";import"./BkMawm5c.js";import"./DpxQD_8Z.js";import"./BNdv2g09.js";import"./DCokmovT.js";import"./Cy1G4y50.js";import"./CS4C5jBA.js";import"./CUpMXY8Z.js";import"./BJAdYVFm.js";import"./Bc4nRekM.js";import"./7Kng7kay.js";import"./fRTX3yli.js";import"./BUQCtab5.js";import"./qhswy7LT.js";import"./CrXtTJmX.js";import"./BsB7p8DA.js";import"./CPvg8iC8.js";const Rt=_e(Be.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDownOutlined"),qt=_e(Be.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"}),"SkipNext"),$t=({stagesList:c,currentStageId:P,passedStageData:y={},workflowData:I,sendCandIds:F})=>{const[H,S]=f.useState(!1),[W,Z]=f.useState(!1),[U,Y]=f.useState(0),oe=f.useRef(!0),i=f.useRef([{name:"",id:"",json:[],assessments:[],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}]),j=f.useRef([{stageTypeId:"",name:"",title:"",stageId:""}]),ue=[{name:"State",id:"1"},{name:"Zipcode",id:"2"}],$=["Attended","Not Attended","Not Registered"],se=["Selected","Not Selected"],b=f.useRef({}),L=f.useRef(!1),E=f.useRef(-1),ee=Ee().shape({json:Je().of(Ee().shape({stageId:G().required("Please select Stage"),fieldValue:G().required("Please enter Field Value"),compare:G().required("Please select a value."),condition:G().required("Please enter Conditional Value"),compareValue:Vt(l=>Array.isArray(l)?Je().of(G()):G()),isShown:St()})),filterId:G(),recrIds:G(),recrNames:G()}),[w,O]=f.useState(y.filterId?JSON.parse(y.json).json:[]),r=vt({initialValues:y.filterId?{json:JSON.parse(y.json).json,filterId:y.filterId,recrIds:y.recrIds,recrNames:y.recrNames}:{json:[],filterId:"0",recrIds:"",recrNames:""},validationSchema:ee,onSubmit:()=>{Z(!0)}}),p=(l,t)=>{if(l){if([...j.current].findIndex(d=>d.stageId===l)!==-1){let d=b.current[Number(l)],N=[...r.values.json];N[t].stageId=l,N[t].fieldValue=d==="8"?"Webinar":"Scheduling",N[t].fieldType="radio",r.setFieldValue("json",N)}x(l,t,!1)}},x=(l,t,o)=>{if(l){if([...j.current].findIndex(N=>N.stageId===l)!==-1){let N=b.current[Number(l)];if(N==="12"||N==="3")ae(q.getByParams(193,"Curately/Workflow/workflow_filter_stages_data.jsp",{stageId:l,stageTypeId:N}).then(V=>{var ce,B;if(N==="12")if(V.data.assessments&&V.data.assessments.length){let s=V.data.assessments;for(let n=0;n<s.length;n++)if(s[n].assessmentsId==="JB-0WE9SVBRK")s[n].assessmentType="TTWordsPerMinute",s[n].assessmentsId="JB-0WE9SVBRK&&TTWordsPerMinute";else if(s[n].assessmentsId==="JB-AAJAZ4K91")s[n].assessmentType="Excel16Percentile",s[n].assessmentsId="JB-AAJAZ4K91&&Excel16Percentile";else if(s[n].assessmentsId==="JB-GHBP3ZY6N")s[n].assessmentType="Word16Percentile",s[n].assessmentsId="JB-GHBP3ZY6N&&Word16Percentile";else if(s[n].assessmentsId==="JB-HTELNQ8LF"){if(s[n].assessmentType!=="EPPPercentMatch"){s[n].assessmentsId="JB-HTELNQ8LF&&GAMEPercentile",s[n].assessmentType="GAMEPercentile";let h={...s[n]};h.assessmentType="EPPPercentMatch",h.assessmentsId="JB-HTELNQ8LF&&EPPPercentMatch",s.splice(n+1,0,h)}}else s[n].assessmentsId==="JB-TS406IM8D"?(s[n].assessmentsId="JB-TS406IM8D&&TenKeyAccuracy",s[n].assessmentType="TenKeyAccuracy"):s[n].assessmentsId==="JB-XDXQ65RS1"&&(s[n].assessmentsId="JB-XDXQ65RS1&&CLIKRanking",s[n].assessmentType="CLIKRanking");i.current[t]={...i.current[t],assessments:s,questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}}else M("No Assessments are assigned to this Stage.","error");else if(N==="3"&&V.data.formName&&V.data.formId){let s=JSON.parse(V.data.json).components;if(JSON.parse(V.data.json).curately)for(let n=0;n<s.length;n++){if(s[n].name=s[n].id,s[n].Type=s[n].inputType,s[n].choices)for(let h=0;h<s[n].choices.length;h++)typeof s[n].choices[h]=="string"||s[n].choices[h]instanceof String?s[n].choices[h]={name:s[n].choices[h],value:s[n].choices[h]}:s[n].choices[h]&&s[n].choices[h].value&&(s[n].choices[h].name=s[n].choices[h].value,s[n].choices[h].value=s[n].choices[h].id);if(s[n].Type==="dropdown"){let h=[];if(s[n].options)for(let Q=0;Q<s[n].options.length;Q++)(typeof s[n].options[Q]=="string"||s[n].options[Q]instanceof String)&&h.push({name:s[n].options[Q],value:s[n].options[Q]});s[n].choices=h}}else for(let n=0;n<s.length;n++)s[n].Type==="radio"?s[n].choices=s[n]&&s[n].Settings&&s[n].Settings[4]&&s[n].Settings[4].Possiblevalue?(ce=s[n].Settings[4])==null?void 0:ce.Possiblevalue:[]:s[n].Type==="dropdown"&&(s[n].choices=s[n]&&s[n].Settings&&s[n].Settings[3]&&s[n].Settings[3].Possiblevalue?(B=s[n].Settings[3])==null?void 0:B.Possiblevalue:[]);i.current[t]={...i.current[t],name:V.data.formName,id:V.data.formId,json:s,questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}}if(y.json){let s=JSON.parse(y.json).json;t===s.length-1&&S(!0)}setTimeout(()=>{o&&ne(t,!1,"")},500)}));else if(N==="1"){if(i.current[t]={...i.current[t],states:[...ue],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]},y.json){let V=JSON.parse(y.json).json;t===V.length-1&&S(!0)}setTimeout(()=>{o&&ne(t,!1,"")},500)}else if(N==="8"||N==="9"){if(i.current[t]={...i.current[t],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]},y.json){let V=JSON.parse(y.json).json;t===V.length-1&&S(!0)}setTimeout(()=>{o&&ne(t,!1,"")},500)}}}else{let u=JSON.parse(y.json).json;t===u.length-1&&S(!0)}},T=()=>{I.workflowId&&ae(q.getByParams(193,"Curately/Workflow/workflow_filter_stages_candidates.jsp",{workflowId:I.workflowId}).then(l=>{if(l.data.stages&&l.data.stages.length){if(j.current=l.data.stages.filter(t=>t.stageTypeId!=="1"),b.current=l.data.stages.reduce((t,o)=>Object.assign(t,{[o.stageId]:o.stageTypeId}),{}),!y.filterId&&y.filterId!=="0")S(!0);else if(y.json){let t=JSON.parse(y.json).json;for(let o=0;o<t.length;o++)x(t[o].stageId,o,!0);t.length||S(!0)}}else M("No Stages found on this Workflow to create Filters","error")}))},te=()=>{let l=[...r.values.json];l.push({stageId:"",fieldValue:"",compare:"",condition:"&&",compareValue:"",fieldType:"",isShown:!0}),i.current.push({name:"",id:"",json:[],assessments:[],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}),r.setFieldValue("json",l)},_=l=>{let t=[...r.values.json];t.splice(l,1),E.current=l,r.setFieldValue("json",t)},ie=(l,t,o)=>{if(t)if(o==="stageId"){let u=j.current.find(d=>d.stageId===t);return u&&u.title?u.title:u&&u.name?u.name:""}else if(o==="stages"){let u=c.find(d=>d.stageId===t);return u&&u.title?u.title:u&&u.name?u.name:""}else if(o==="fieldValue"&&i.current&&i.current[l]&&r.values.json&&r.values.json[l]){if(b.current[Number(r.values.json[l].stageId)]==="1")if(i.current[l].states){let u=i.current[l].states.find(d=>d.id===t);return u&&(u!=null&&u.name)?u==null?void 0:u.name:""}else return"";if(b.current[Number(r.values.json[l].stageId)]==="12")if(i.current[l].assessments){let u=i.current[l].assessments.find(d=>d.assessmentsId===t);return u&&(u!=null&&u.name)?u==null?void 0:u.name:""}else return"";if(b.current[Number(r.values.json[l].stageId)]==="3")if(i.current[l].json){let u=i.current[l].json.find(d=>d.name===t);return u&&(u!=null&&u.labelName)?u==null?void 0:u.labelName:""}else return""}else return"";else return""},re=()=>{if(Z(!0),r.isValid)if(r.values.json.length){let l={...r.values},t=[...i.current];E.current!==-1&&(t.splice(E.current,1),l.json.splice(E.current,1),E.current=-1);for(let d=0;d<l.json.length;d++)l.json[d].stageId&&(l.json[d].stageTypeId=b.current[Number(l.json[d].stageId)]),l.json[d].isShown=!1,l.json[d].stageTypeId==="1"&&l.json[d].compareValue&&l.json[d].compareValue.length?(l.json[d].compareValue=Array.isArray(l.json[d].compareValue)?l.json[d].compareValue:l.json[d].compareValue.split(","),l.json[d].compareValue=l.json[d].compareValue.filter(Boolean).join()):l.json[d].stageTypeId==="3"&&(l.json[d].formId=t[d].id);r.setFieldValue("json",l.json);let o=JSON.parse(JSON.stringify(l.json));for(let d=0;d<o.length;d++)if(o[d].stageTypeId==="12"&&o[d].fieldValue&&o[d].fieldValue.startsWith("JB-")&&o[d].fieldValue.split("&&").length>1){let N=o[d].fieldValue.split("&&");o[d].fieldValue=N[0],o[d].assessmentType=N[1]}let u={filterId:r.values.filterId?r.values.filterId:"0",currentStageId:P,json:o,workflow_job_id:I.workflow_job_id,recrId:J.getvalue("recrId"),recrIds:r.values.recrIds,clientId:J.getvalue("clientId")};ae(q.postWithData("233seq","DemoAutomation/workflowFilters",u).then(d=>{z(!1),d.data.Success?(O(l.json),d.data.resultList&&d.data.resultList.length?(Y(d.data.resultList.length),F(d.data.resultList)):M("No Candidates with this filter","error")):M(d.data.message,"error")}))}else M("At least One Condition is required. ","error");else if(E.current!==-1){let l=[...i.current],t={...r.values};t.json.splice(E.current,1),l.splice(E.current,1),E.current=-1;for(let o=0;o<t.json.length;o++)t.json[o].stageId&&(t.json[o].stageTypeId=b.current[Number(t.json[o].stageId)]),t.json[o].isShown=!1;r.setFieldValue("json",t.json),i.current=[...l],re()}else M("Please enter all required Fields","error")},ne=(l,t,o)=>{console.log(o);let u=[...r.values.json];o&&(u[l].fieldValue=o);let d=r.values.json[l].fieldValue;if(i.current[l]&&r.values.json[l].fieldValue)if(i.current[l].questionSelectedId=d,b.current[Number(r.values.json[l].stageId)]==="3"&&i.current[l]&&i.current[l].id){let N=i.current[l].json.find(V=>V.name===r.values.json[l].fieldValue);i.current[l].questionType=N?N==null?void 0:N.Type:"",i.current[l].questionType==="radio"?i.current[l].questionValues=N&&N.choices?N.choices:[]:i.current[l].questionType==="dropdown"?i.current[l].questionValues=N&&N.choices?N.choices:[]:i.current[l].questionValues=[],t&&(u[l].fieldType=i.current[l].questionType)}else b.current[Number(r.values.json[l].stageId)]==="1"?t&&(o==="1"?u[l].fieldType="dropdown":o==="1"?u[l].fieldType="number":u[l].fieldType=""):b.current[Number(r.values.json[l].stageId)]==="8"||b.current[Number(r.values.json[l].stageId)]==="9"?t&&(u[l].fieldType="radio"):i.current[l]&&(i.current[l].questionType="",t&&(u[l].fieldType=i.current[l].questionType));else i.current[l]&&(i.current[l].questionType="",t&&(u[l].fieldType=i.current[l].questionType));(b.current[Number(r.values.json[l].stageId)]==="8"||b.current[Number(r.values.json[l].stageId)]==="9")&&(u[l].fieldType="radio",u[l].fieldValue=b.current[Number(r.values.json[l].stageId)]==="8"?"Webinar":"Scheduling"),r.setFieldValue("json",u)},be=l=>{if(b.current[Number(r.values.json[l].stageId)]==="8"||b.current[Number(r.values.json[l].stageId)]==="9")return"radio";if(r.values.json[l]&&r.values.json[l].fieldValue){let t=r.values.json[l].fieldValue;if(b.current[Number(r.values.json[l].stageId)]==="1")return r.values.json[l].fieldValue==="1"?"dropdown":r.values.json[l].fieldValue===2?"number":"";if(b.current[Number(r.values.json[l].stageId)]==="12")return r.values.json[l].fieldValue==="JB-XDXQ65RS1"?"dropdown":"number";if(i.current[l]&&r.values.json[l].fieldValue){if(i.current[l].questionSelectedId=t,b.current[Number(r.values.json[l].stageId)]==="3"&&i.current[l]&&i.current[l].id){let o=i.current[l].json.find(u=>u.name===r.values.json[l].fieldValue);return o?o==null?void 0:o.Type:""}else if(i.current[l])return""}else if(i.current[l])return""}else return""},k=l=>{switch(be(l)){case"number":return[{value:"=",name:"is equal to"},{value:"!=",name:"is not equal to"},{value:"<",name:"is lower than"},{value:">",name:"is greater than"},{value:"<=",name:"is lower or equal to"},{value:">=",name:"is greater or equal than"}];case"date":return[{value:"=",name:"is on"},{value:"!=",name:"is not on"},{value:"<",name:"is before"},{value:">",name:"is after"},{value:"<=",name:"is before or on"},{value:">=",name:"is after or on"}];case"checkbox":case"radio":case"dropdown":return[{value:"=",name:"is"},{value:"!=",name:"is not"}];case"textarea":case"text":default:return[{value:"=",name:"is equal to"},{value:"!=",name:"is not equal to"},{value:"**",name:"contains"},{value:"!*",name:"does not contain"}]}},ye=(l,t)=>{let u=k(l).find(d=>d.value===t);return u&&u.name?u.name:""},z=l=>{if(!L.current||!l){L.current=l;let t=[...r.values.json];r.setFieldValue("json",t)}};return f.useEffect(()=>{oe.current?oe.current=!1:T(),console.log("check load")},[]),e.jsxDEV("div",{className:"FilterStage",children:H?e.jsxDEV(g,{children:[e.jsxDEV(R,{variant:"text",color:"primary",size:"small",startIcon:e.jsxDEV(Wt,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:814,columnNumber:36},void 0),className:"ml-5 tt-none",onClick:()=>z(!0),title:"Add Condition",children:"Filter Candidates"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:810,columnNumber:21},void 0),U?e.jsxDEV(wt,{badgeContent:U,color:"error",className:"mr-4 ml-2"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:824,columnNumber:29},void 0):null,e.jsxDEV(g,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"d-none",children:[e.jsxDEV(g,{className:"editGridFilter p-2 ",onClick:()=>z(!0),sx:{display:"inline-flex"},children:[e.jsxDEV("span",{className:"editFilter",children:[r.values.recrNames&&(w!=null&&w.length)?e.jsxDEV("span",{children:["Recruiters: ",r.values.recrNames]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:845,columnNumber:41},void 0):null,w!=null&&w.length?w.map((l,t)=>e.jsxDEV("div",{children:e.jsxDEV(g,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",className:"my-3 ",sx:{display:"inline-block"},children:[t===0?e.jsxDEV(g,{sx:{width:"65px",display:"inline-block"},className:"pt-5 pl-3 ifText"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:865,columnNumber:69},void 0):e.jsxDEV(Re,{variant:"body1",sx:{width:"65px",display:"inline-block"},className:`pl-3 ${w[t-1].condition?"":"d-none"}`,children:w[t-1].condition==="&&"?"AND":"OR"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:869,columnNumber:69},void 0),e.jsxDEV("span",{className:`pr-3 fw-6 ${ie(t,w[t].stageId,"stageId")==="Assessment"?"mr-5 ":""} ${w[t].stageId?"":"d-none"}`,children:ie(t,w[t].stageId,"stageId")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:873,columnNumber:61},void 0),e.jsxDEV("span",{className:`pr-3 ${w[t].fieldValue?"":"d-none"}`,children:[e.jsxDEV("span",{className:"pr-4 c-grey fw-6",children:" - "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:877,columnNumber:65},void 0),ie(t,w[t].fieldValue,"fieldValue")]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:876,columnNumber:61},void 0),e.jsxDEV("span",{className:`pr-3 c-grey ${w[t].compare?"":"d-none"}`,children:ye(t,w[t].compare)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:879,columnNumber:61},void 0),e.jsxDEV("span",{className:`pl-3 ${w[t].compareValue?"":"d-none"}`,children:w[t].compareValue},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:882,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:856,columnNumber:57},void 0)},`displayCondition${t}`,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:855,columnNumber:53},void 0)):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:842,columnNumber:29},void 0),w!=null&&w.length?e.jsxDEV(Se,{"aria-label":"Edit",className:"editIcon pl-4 py-0",onClick:()=>z(!0),children:e.jsxDEV(gt,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:904,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:899,columnNumber:37},void 0):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:841,columnNumber:25},void 0),e.jsxDEV(g,{children:w!=null&&w.length?e.jsxDEV(R,{"aria-label":"Cancel",className:"pl-4 py-0",onClick:()=>{O([]),F([])},variant:"outlined",color:"secondary",children:"Clear"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:914,columnNumber:37},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:910,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:833,columnNumber:21},void 0),e.jsxDEV(rt,{open:L.current,className:"filterDialog",maxWidth:"sm",sx:{".MuiDialog-container.MuiDialog-scrollPaper":{justifyContent:"end",alignItems:"start","& .MuiDialog-paper":{maxHeight:"calc(100vh)"},"& .MuiPaper-root":{margin:0}}},children:[e.jsxDEV(It,{className:"py-2",children:e.jsxDEV(g,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"pr-2",children:"Filter Candidates "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:952,columnNumber:33},void 0),e.jsxDEV("span",{onClick:()=>z(!1),className:"closePopup",children:e.jsxDEV(qe,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:954,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:953,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:946,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:945,columnNumber:25},void 0),e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:958,columnNumber:25},void 0),e.jsxDEV(lt,{className:"dialogContent",children:e.jsxDEV(jt,{onSubmit:re,initialValues:r.initialValues,enableReinitialize:!0,children:({})=>e.jsxDEV(Dt,{placeholder:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:969,columnNumber:58},void 0),children:[e.jsxDEV(g,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:971,columnNumber:45},void 0),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("div",{children:[e.jsxDEV(Oe,{id:"recruiter",handleChange:(l,t)=>{r.setFieldValue("recrNames",t),r.setFieldValue("recrIds",l)},valuePassed:r.values.recrIds?{label:r.values.recrNames,id:r.values.recrIds}:{},isMultiple:!0,width:"100%",type:"id",placeholder:"Recruiter Name"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:981,columnNumber:53},void 0),e.jsxDEV(kt,{name:"json",children:({})=>e.jsxDEV("div",{children:r.values.json.map((l,t)=>e.jsxDEV(g,{container:!0,spacing:1,className:`mb-4 pt-2 ${t===0?"mt-4":""}`,sx:{backgroundColor:"#f1f5fa",boxShadow:"none"},children:e.jsxDEV(g,{size:"grow",className:"mt-2 ",children:e.jsxDEV(g,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"start",rowSpacing:1,children:[e.jsxDEV(g,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"start",children:[e.jsxDEV(g,{sx:{width:"100px"},className:`${t===r.values.json.length-1?"v-hidden":""}`,children:e.jsxDEV(Ft,{color:"primary",value:l.condition,exclusive:!0,onChange:(o,u)=>{r.setFieldValue(`json[${t}].condition`,u)},"aria-label":"condition",size:"small",children:[e.jsxDEV(Ae,{value:"&&",children:"AND"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1046,columnNumber:109},void 0),e.jsxDEV(Ae,{value:"||",sx:{width:40},children:"OR"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1047,columnNumber:109},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1038,columnNumber:105},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1037,columnNumber:101},void 0),e.jsxDEV(g,{size:"auto",sx:{width:"45px"},children:e.jsxDEV(Se,{onClick:o=>_(t),className:`${r.values.json.length===1?"d-none":""}`,children:e.jsxDEV(xt,{className:"c-red"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1068,columnNumber:109},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1066,columnNumber:105},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1065,columnNumber:101},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1030,columnNumber:97},void 0),e.jsxDEV(g,{sx:{width:330},children:[e.jsxDEV(A,{size:"small",id:`stageId${t}`,select:!0,value:l.stageId,onChange:o=>{p(o.target.value,t)},name:`json[${t}].stageId`,fullWidth:!0,label:"Stage",children:[e.jsxDEV(C,{value:""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1090,columnNumber:105},void 0),j.current.map((o,u)=>e.jsxDEV(C,{value:o.stageId,children:o.title?o.title:o.name},o.stageId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1094,columnNumber:124},void 0))]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1073,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","stageId"],isFormSubmitted:W},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1099,columnNumber:101},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1072,columnNumber:97},void 0),e.jsxDEV(g,{sx:{width:330},className:`${r.values.json[t].stageId?"":"d-none"}`,children:[e.jsxDEV(A,{size:"small",id:`fieldValue${t}`,select:!0,value:l.fieldValue,onChange:o=>{ne(t,!0,o.target.value)},name:`json[${t}].fieldValue`,fullWidth:!0,label:`${b.current[Number(r.values.json[t].stageId)]==="1"?"Trigger":b.current[Number(r.values.json[t].stageId)]==="12"?"Assessment":b.current[Number(r.values.json[t].stageId)]==="3"?"Question":b.current[Number(r.values.json[t].stageId)]==="8"?"Webinar":b.current[Number(r.values.json[t].stageId)]==="9"?"Scheduling":""}`,children:[e.jsxDEV(C,{value:""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1130,columnNumber:105},void 0),i.current&&i.current[t]?b.current[Number(r.values.json[t].stageId)]==="12"?i.current[t].assessments?i.current[t].assessments.map((o,u)=>e.jsxDEV(C,{value:o.assessmentsId,children:[o.name," ",o.assessmentType?`(${o.assessmentType})`:""]},o.assessmentsId,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1137,columnNumber:132},void 0)):null:b.current[Number(r.values.json[t].stageId)]==="3"&&i.current[t]&&i.current[t].id?i.current[t].json?i.current[t].json.map((o,u)=>e.jsxDEV(C,{value:o.name,children:o.labelName},o.name,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1147,columnNumber:136},void 0)):null:b.current[Number(r.values.json[t].stageId)]==="1"?i.current[t].states?i.current[t].states.map((o,u)=>e.jsxDEV(C,{value:o.id,children:o.name},o.id,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1154,columnNumber:140},void 0)):null:b.current[Number(r.values.json[t].stageId)]==="8"?e.jsxDEV(C,{value:"Webinar",selected:!0,children:"Webinar"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1159,columnNumber:129},void 0):b.current[Number(r.values.json[t].stageId)]==="9"?e.jsxDEV(C,{value:"Scheduling",selected:!0,children:"Scheduling"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1163,columnNumber:133},void 0):null:null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1105,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","fieldValue"],isFormSubmitted:W},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1170,columnNumber:101},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1101,columnNumber:97},void 0),e.jsxDEV(g,{sx:{width:330},className:`${r.values.json[t].fieldValue||b.current[Number(r.values.json[t].stageId)]==="8"||b.current[Number(r.values.json[t].stageId)]==="9"?"":"d-none"}`,children:[e.jsxDEV(A,{size:"small",id:`compare${t}`,select:!0,value:l.compare,onChange:r.handleChange,name:`json[${t}].compare`,fullWidth:!0,children:[e.jsxDEV(C,{value:""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1186,columnNumber:105},void 0),k(t).map(o=>e.jsxDEV(C,{value:o.value,children:o.name},o.value,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1190,columnNumber:124},void 0))]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1177,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","compare"],isFormSubmitted:W},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1195,columnNumber:101},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1173,columnNumber:97},void 0),e.jsxDEV(g,{sx:{width:330},className:`${r.values.json[t].compare?"":"d-none"}`,children:[r.values.json[t].fieldValue==="JB-XDXQ65RS1"&&b.current[Number(r.values.json[t].stageId)]==="12"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:[e.jsxDEV(C,{value:"Proficient",children:"Proficient"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1211,columnNumber:113},void 0),e.jsxDEV(C,{value:"Highly Proficient",children:"Highly Proficient"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1212,columnNumber:113},void 0),e.jsxDEV(C,{value:"Not Proficient",children:"Not Proficient"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1213,columnNumber:113},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1202,columnNumber:109},void 0):r.values.json[t].fieldType==="number"||b.current[Number(r.values.json[t].stageId)]==="12"||b.current[Number(r.values.json[t].stageId)]==="1"&&r.values.json[t].fieldValue==="2"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"number"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1217,columnNumber:113},void 0):null,r.values.json[t].fieldType==="text"||r.values.json[t].fieldType==="textarea"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"text"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1233,columnNumber:109},void 0):null,r.values.json[t].fieldType==="email"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"email"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1250,columnNumber:109},void 0):null,r.values.json[t].fieldType==="date"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"date"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1266,columnNumber:109},void 0):null,r.values.json[t].fieldType==="radio"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:[i.current[t]&&i.current[t].questionValues?i.current[t].questionValues.map((o,u)=>e.jsxDEV(C,{value:o.value,children:o.name},o.value,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1295,columnNumber:132},void 0)):null,b.current[Number(r.values.json[t].stageId)]==="8"?$.map(o=>e.jsxDEV(C,{value:o,children:o},o,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1304,columnNumber:132},void 0)):null,b.current[Number(r.values.json[t].stageId)]==="9"?se.map(o=>e.jsxDEV(C,{value:o,children:o},o,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1312,columnNumber:132},void 0)):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1282,columnNumber:109},void 0):null,r.values.json[t].fieldType==="dropdown"?b.current[Number(r.values.json[t].stageId)]==="12"||b.current[Number(r.values.json[t].stageId)]==="3"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:i.current[t]&&i.current[t].questionValues?i.current[t].questionValues.map((o,u)=>e.jsxDEV(C,{value:o.value,children:o.name},o.value,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1337,columnNumber:136},void 0)):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1324,columnNumber:113},void 0):b.current[Number(r.values.json[t].stageId)]==="1"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:Array.isArray(l.compareValue)?l.compareValue:l.compareValue.split(","),onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,SelectProps:{multiple:!0},children:Te?Te.map((o,u)=>e.jsxDEV(C,{value:o.id,children:o.label},o.id,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1366,columnNumber:140},void 0)):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1346,columnNumber:117},void 0):null:null,r.values.json[t].fieldType==="checkbox"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:[e.jsxDEV(C,{value:1,children:"Is Checked"},1,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1391,columnNumber:113},void 0),e.jsxDEV(C,{value:0,children:"Is Not Checked"},0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1392,columnNumber:113},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1381,columnNumber:109},void 0):null,e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","compareValue"],isFormSubmitted:W},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1397,columnNumber:101},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1197,columnNumber:97},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1023,columnNumber:93},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1017,columnNumber:89},void 0)},`condition${t}`,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1005,columnNumber:85},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:999,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:994,columnNumber:53},void 0),e.jsxDEV(g,{container:!0,spacing:1,className:"my-3",children:e.jsxDEV(R,{variant:"text",color:"primary",startIcon:e.jsxDEV(Nt,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1411,columnNumber:107},void 0),onClick:te,children:"Add Filter"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1411,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1410,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:980,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:979,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:968,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:961,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:959,columnNumber:25},void 0),e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1492,columnNumber:25},void 0),e.jsxDEV(at,{children:e.jsxDEV(g,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[e.jsxDEV(R,{color:"primary",variant:"contained",type:"submit",className:"mt-3 mr-2",size:"small",onClick:re,children:"Apply"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1500,columnNumber:33},void 0),e.jsxDEV(R,{color:"primary",variant:"outlined",type:"button",className:"mt-3 mr-2",size:"small",onClick:()=>z(!1),children:"Cancel"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1512,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1494,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1493,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:931,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:809,columnNumber:17},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:803,columnNumber:12},void 0)},Ot=({moreMenuData:c,moveToStage:P})=>{const[y,I]=f.useState(null),F=!!y,H=W=>{I(W.currentTarget)},S=()=>{I(null)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(R,{size:"small",id:`more-button-${c.candid}`,"aria-controls":F?`more-menu-${c.candid}`:void 0,"aria-haspopup":"true","aria-expanded":F?"true":void 0,onClick:H,children:e.jsxDEV(Tt,{className:"fs-16"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:27,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:19,columnNumber:9},void 0),e.jsxDEV(xe,{id:`more-menu-${c.candid}`,anchorEl:y,open:F,onClose:S,MenuListProps:{"aria-labelledby":`more-button-${c.candid}`},children:c.nextStageList.map(W=>e.jsxDEV(C,{onClick:()=>{S(),P(W.stageId)},children:W.title?W.title:W.name},W.stageId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:40,columnNumber:28},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:18,columnNumber:12},void 0)},zt=50,Kt=({masterStagesList:c,selectedStage:P,stageIds:y,totalCount:I,workflowData:F,refetchData:H})=>{const{jobId:S}=$e(),[W,Z]=f.useState([]),[U,Y]=f.useState(!1),[oe,i]=f.useState(""),[j,ue]=f.useState(""),[$,se]=f.useState(!1),[b,L]=f.useState(!1),E=f.useRef(""),[ee,w]=f.useState({id:"",name:""}),O=f.useRef(""),r=J.checkIntegration(40005)&&J.checkIntegration(400020),[p,x]=f.useState([]),T=f.useRef(null),[te,_]=f.useState(!1),ie=a=>{E.current=a,L(!0)},re=(a,m)=>{navigator.clipboard.writeText(a),M(m+" Copied","success")},ne=()=>{const a=Object.keys(B).filter(m=>B[m]);if(a.length===1){const m=a[0],v=le.find(D=>D.candid===m);v&&(i(v.email),ue(v.candname),se(!1),Y(!0))}else a.length>1&&(i(""),ue(""),se(!0),Y(!0))},be=f.useMemo(()=>[],[]),k=f.useMemo(()=>[],[]),ye=f.useRef(null),z=f.useRef(null),[l,t]=f.useState([]),[o,u]=f.useState(),[d,N]=f.useState([]),[V,ce]=f.useState(!1),[B,s]=f.useState({}),{data:n,fetchNextPage:h,isError:Q,isFetching:pe,isLoading:ze,refetch:Ne}=ft({queryKey:["table-data",l,o,d],queryFn:async({pageParam:a=0})=>{const m=O.current?await q.getByParams(193,"Curately/Workflow/workflow_applicants_view_single.jsp",{workflow_job_cand_id:O.current,clientId:J.getvalue("clientId")}):await q.getByParams(193,"Curately/Workflow/workflow_applicants_view.jsp",{jobId:S,stageId:P.stageId,pageSize:zt,pageIndex:a*50,candIds:de.current.join(),clientId:J.getvalue("clientId")});let D=(await st.parseApplicantsData(m.data,c)).applicants;return D!=null&&D.length&&x(D[0].nextStageList),a===0&&(k.length=0,await Ke()),{data:D}},getNextPageParam:(a,m)=>m.length,keepPreviousData:!0,refetchOnWindowFocus:!1}),Ke=async()=>{if(!k.length){k.push({accessorKey:"name",header:"Name",size:250,Cell:({row:a})=>a.original.candname?e.jsxDEV(g,{children:[e.jsxDEV("span",{className:"hightLightTd fs-13",onClick:()=>ie(a.original.candid),children:a.original.candname.toLowerCase()},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:281,columnNumber:29},void 0),a.original.email&&a.original.email.trim()?e.jsxDEV(Ie,{className:"py-0 pl-0",secondaryAction:e.jsxDEV(We,{className:"cursor-pointer fs-16",onClick:m=>{m.stopPropagation(),re(a.original.email,"Email")}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:287,columnNumber:45},void 0),children:[e.jsxDEV(Fe,{sx:{minWidth:"20px !important"},children:e.jsxDEV(yt,{className:"fs-16"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:296,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:295,columnNumber:41},void 0),e.jsxDEV(Me,{className:"m-0",sx:{color:"#007bff"},primary:e.jsxDEV("span",{className:"fs-13",children:[a.original.email," "]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:301,columnNumber:54},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:298,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:284,columnNumber:37},void 0):null,a.original.phoneno&&a.original.phoneno.trim()?e.jsxDEV(Ie,{className:"py-0 pl-0",secondaryAction:e.jsxDEV(We,{className:"cursor-pointer fs-16",onClick:m=>{m.stopPropagation(),re(a.original.phoneno,"Phone Number")}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:312,columnNumber:45},void 0),children:[e.jsxDEV(Fe,{sx:{minWidth:"20px !important"},children:e.jsxDEV(Mt,{className:"fs-16 mt-1"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:321,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:320,columnNumber:41},void 0),e.jsxDEV(Me,{className:"m-0",sx:{color:"#007bff"},primary:e.jsxDEV("span",{className:"fs-13",children:[a.original.phoneno," "]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:326,columnNumber:54},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:323,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:309,columnNumber:37},void 0):null,e.jsxDEV(_t,{className:"mt-1",variant:"outlined","aria-label":"outlined button group",size:"small",children:[a.original.candtoken?e.jsxDEV(he,{title:"Copy Candidate Link",children:e.jsxDEV(R,{size:"small",onClick:m=>{m.stopPropagation(),re("https://app.curately.ai/workflow/#/stages/"+a.original.candtoken,"Candidate Link")},children:e.jsxDEV(nt,{className:"fs-16"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:341,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:336,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:335,columnNumber:41},void 0):null,y.rejected&&a.original.stageid&&y.rejected!==a.original.stageid?e.jsxDEV(he,{title:"Reject",children:e.jsxDEV(R,{size:"small",onClick:()=>{Ce("Are you sure you want to move the candidate to Rejected Stage?",()=>{K.current=a.original,me(y.rejected)},"warning"),ke()},children:e.jsxDEV(qe,{className:"fs-16"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:359,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:350,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:349,columnNumber:41},void 0):null,a.original.nextStageId&&y.approved&&y.approved!==a.original.stageid?e.jsxDEV(he,{title:"Move to Next Stage",children:e.jsxDEV(R,{size:"small",onClick:()=>{Ce("Are you sure you want to move the candidate to Next Stage?",()=>{K.current=a.original,me(a.original.nextStageId)},"warning"),ke()},children:e.jsxDEV(qt,{className:"fs-16"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:378,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:368,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:367,columnNumber:41},void 0):null,a.original.nextStageList&&a.original.nextStageList.length?e.jsxDEV(Ot,{moreMenuData:a.original,moveToStage:m=>{K.current=a.original,me(m)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:386,columnNumber:41},void 0):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:332,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:280,columnNumber:25},void 0):null}),k.push({accessorKey:"recruiter",header:"Recruiter",Cell:({...a})=>X("").recruiter(a.row.original)}),k.push({accessorKey:"stages",header:"Stages",Cell:({...a})=>X("").stagesList(a.row.original)});for(let a=0;a<c.length;a++)c[a].stageTypeId==="3"?k.push({accessorKey:"dataCollection"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,Cell:({...m})=>X(c[a].stageId).dataCollection(m.row.original),minSize:250}):c[a].stageTypeId==="15"?k.push({accessorKey:"documentSigning"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,Cell:({...m})=>X(c[a].stageId).documentSigning(m.row.original)}):c[a].stageTypeId==="10"?k.push({accessorKey:"videoRecordings"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,minSize:250,Cell:({row:m})=>e.jsxDEV("div",{className:"videoRecordingDiv",children:m.original["videoRecordingsList_"+c[a].stageId]&&m.original["videoRecordingsList_"+c[a].stageId].length?m.original["videoRecordingsList_"+c[a].stageId].map(v=>e.jsxDEV(g,{children:[e.jsxDEV("label",{className:"fw-7 questionLabel",children:v.question},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:453,columnNumber:49},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV(ut,{onClick:()=>Ue(v.videolink),className:"cursor-pointer c-grey"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:454,columnNumber:55},void 0)," "]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:454,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:452,columnNumber:232},void 0)):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:449,columnNumber:33},void 0)}):c[a].stageTypeId==="9"?k.push({accessorKey:"scheduler"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,Cell:({...m})=>X(c[a].stageId).scheduler(m.row.original)}):c[a].stageTypeId==="12"?k.push({accessorKey:"assessmnets"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,Cell:({...m})=>X(c[a].stageId).assessment(m.row.original)}):c[a].stageTypeId==="8"?k.push({accessorKey:"webinar"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,Cell:({...m})=>X(c[a].stageId).webinar(m.row.original)}):c[a].stageTypeId==="14"?k.push({accessorKey:"systemChecker"+c[a].stageId,header:c[a].title?c[a].title:c[a].name,Cell:({...m})=>X(c[a].stageId).systemChecker(m.row.original)}):c[a].stageTypeId}},le=f.useMemo(()=>(n==null?void 0:n.pages.flatMap(a=>a.data))??[],[n]),He=a=>{if(a.target.checked){let m={},v=le;for(let D=0;D<le.length;D++)m[v[D].candid]=!0;s(m)}else s({});ce(a.target.checked)},de=f.useRef([]),we=O.current?1:de.current.length?de.current.length:I??0,ge=le.length,Le=f.useCallback(a=>{if(a){const{scrollHeight:m,scrollTop:v,clientHeight:D}=a;m-v-D<400&&!pe&&ge<we&&h()}},[h,pe,ge,we]);f.useEffect(()=>{var a,m;le.length&&((m=(a=z.current)==null?void 0:a.scrollToIndex)==null||m.call(a,0)),Z(Object.keys(B))},[B]),f.useEffect(()=>{var a,m;try{(m=(a=z.current)==null?void 0:a.scrollToIndex)==null||m.call(a,0)}catch(v){console.error(v)}},[d,l,o]);const K=f.useRef({}),[Qe,ve]=f.useState(!1),[je,Ge]=f.useState(""),[Xe,Ze]=f.useState(null),De=!!Xe;f.useEffect(()=>{console.log(De)},[De]);const ke=()=>{Ze(null)},Ue=a=>{a&&(Ye(a)||a.includes("cameratag.com"))?(Ge(a),ve(!0)):M("In Valid URL.","error")},Ye=a=>{var m=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!m.test(a)},me=a=>{let m={workflow_job_cand_id:K.current.workflow_job_cand_id,candid:K.current.candid,fromstage:K.current.stageid,tostage:a,recrid:J.getvalue("recrId"),clientId:J.getvalue("clientId")};ae(q.getByParams(193,"Curately/Workflow/workflow_candidate_next_stage.jsp",{workflow_job_cand_id:K.current.workflow_job_cand_id,stageId:K.current.stageid,stageNumber:K.current.position,stageId1:a,clientId:J.getvalue("clientId")}).then(v=>{v.data.message==="Success"?q.postWithData("admin","applicantsStagesMoveLogs",m).then(D=>{D.data.Success?(Ne(),H()):M(D.data.message,"error")}):M(v.data.message,"error")}))},et=a=>{de.current=a,Ne()},tt=a=>{let m=Object.entries(B).filter(([v,D])=>D).map(([v])=>v);if(_(!1),m!=null&&m.length){let v=le.find(D=>D.candid.toString()===m[0].toString());K.current=v,me(a)}};return e.jsxDEV(e.Fragment,{children:[k.length?e.jsxDEV(ct,{enableStickyHeader:!0,columns:k.length?k:be,data:le,enablePagination:!1,enableRowSelection:!0,enableRowVirtualization:!0,manualFiltering:!0,manualSorting:!0,renderTopToolbar:e.jsxDEV("div",{children:e.jsxDEV(g,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxDEV(g,{children:e.jsxDEV(Ve,{direction:"row",children:[e.jsxDEV(Et,{className:"select-all-checkbox ml-3 p-1",disableRipple:!0,color:"default",checked:V,onChange:He},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:707,columnNumber:45},void 0),r?e.jsxDEV(R,{variant:"outlined",color:"secondary",className:"mr-2",disabled:!(Object.keys(B).length>0),onClick:ne,startIcon:e.jsxDEV(At,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:716,columnNumber:68},void 0),children:"Blast Email"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:710,columnNumber:53},void 0):null,e.jsxDEV(R,{variant:"outlined",color:"secondary",className:"mr-2",disabled:Object.keys(B).length!==1,onClick:()=>{_(!0)},endIcon:e.jsxDEV(Rt,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:733,columnNumber:62},void 0),ref:T,children:"Move To"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:725,columnNumber:49},void 0),!!(p!=null&&p.length)&&e.jsxDEV(xe,{open:te,onClose:()=>{_(!1)},anchorEl:T.current,children:p.map((a,m)=>e.jsxDEV(C,{onClick:()=>tt(a.stageId),children:a.title?a.title:a.name},m,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:746,columnNumber:53},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:740,columnNumber:74},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:706,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:705,columnNumber:37},void 0),e.jsxDEV(g,{children:e.jsxDEV(Ve,{direction:"row",alignItems:"center",children:[e.jsxDEV("div",{className:"mr-5",children:P.stageId?e.jsxDEV($t,{currentStageId:P.stageId,passedStageData:{},stagesList:c,workflowData:F,sendCandIds:et},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:756,columnNumber:57},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:753,columnNumber:45},void 0),e.jsxDEV(Oe,{id:"workflowCandidate",handleChange:(a,m)=>{w({id:a,name:m}),O.current=a||"",Ne(),s({})},valuePassed:ee.id?{label:ee.name,id:ee.id}:{},isMultiple:!1,textToShow:"Search Candidate",width:"250px",type:"workflowCandidate",placeholder:"Select Candidate",jobId:S,className:"mb-1 pr-2 pt-1"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:761,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:752,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:751,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:699,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:698,columnNumber:29},void 0),muiTableContainerProps:{ref:ye,sx:{maxHeight:"600px"},onScroll:a=>Le(a.target)},muiToolbarAlertBannerProps:Q?{color:"error",children:"Error loading data"}:void 0,initialState:{density:"compact",showGlobalFilter:!1},onColumnFiltersChange:t,onGlobalFilterChange:u,onSortingChange:N,enableGlobalFilterModes:!1,renderBottomToolbarCustomActions:()=>e.jsxDEV(Re,{children:[ge," of ",we]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:815,columnNumber:29},void 0),state:{columnFilters:l,globalFilter:o,isLoading:ze,showAlertBanner:Q,showProgressBars:pe,sorting:d,rowSelection:B},onRowSelectionChange:s,rowVirtualizerInstanceRef:z,rowVirtualizerOptions:{overscan:4},getRowId:a=>a.candid,icons:{ArrowDownwardIcon:a=>e.jsxDEV(bt,{...a},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:835,columnNumber:64},void 0)},layoutMode:"semantic"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:687,columnNumber:21},void 0):null,je?e.jsxDEV(Jt,{url:je,open:Qe,closePopup:()=>ve(!1)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:844,columnNumber:21},void 0):null,U&&e.jsxDEV(pt,{dialogOpen:U,onClose:()=>Y(!1),name:j,emailId:oe,isBulkEmail:$,jobId:S},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:850,columnNumber:29},void 0),b?e.jsxDEV(Pt,{candidateId:E.current,closePopup:()=>L(!1),jobId:S||"",open:b},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:881,columnNumber:21},void 0):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:684,columnNumber:9},void 0)},Ht=new mt,Lt=({masterStagesList:c,selectedStage:P,stageIds:y,totalCount:I,workflowData:F,refetchData:H})=>e.jsxDEV(dt,{client:Ht,children:e.jsxDEV(Kt,{masterStagesList:c,selectedStage:P,stageIds:y,totalCount:I,workflowData:F,refetchData:H},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:907,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:906,columnNumber:5},void 0),Kl=()=>{var O;const{jobId:c}=$e(),[P,y]=f.useState(null),I=!!P;f.useEffect(()=>{console.log(I)},[I]);const[F,H]=f.useState({jobid:"",workflowName:"",workflow_job_id:"",workflowId:""}),[S,W]=f.useState({rejected:"",approved:"",onHold:""}),[Z,U]=f.useState({stageTypeId:"",noOfCandidates:"",name:"",position:"",title:"",stageId:"",countToShow:"",isCountLoading:!1}),[Y,oe]=f.useState(!1),i=(r,p)=>{console.log(p),oe(p)},[j,ue]=f.useState({}),[$,se]=f.useState([]),b=()=>{y(null)},L=()=>{ae(q.getByParams(193,"Curately/Workflow/workflow_job_stages_list.jsp",{jobId:c,clientId:J.getvalue("clientId")}).then(r=>{H({jobid:r.data.jobid,workflowName:r.data.workflowName,workflow_job_id:r.data.workflow_job_id,workflowId:r.data.workflowId});let p=r.data.stages;if(p=p.sort((x,T)=>parseFloat(x.position)-parseFloat(T.position)),p=p.filter(x=>x.stageTypeId!=="1"&&x.stageTypeId!=="11"),p&&p.length){let x=p.find(_=>_.stageTypeId==="6"),T=p.find(_=>_.stageTypeId==="7"),te=p.find(_=>_.stageTypeId==="2");W({rejected:x&&x.stageId?x.stageId:"",onHold:T&&T.stageId?T.stageId:"",approved:te&&te.stageId?te.stageId:""})}for(let x=0;x<p.length;x++)p[x].isCountLoading=!0;E(p),setTimeout(()=>{},250)}))},E=async r=>{console.log(r);for(let p=0;p<r.length;p++)r[p].countToShow||await ae(q.getByParams(193,"Curately/Workflow/workflow_applicants_view_count.jsp",{jobId:c,stageId:r[p].stageId,clientId:J.getvalue("clientId")}).then(x=>{r[p].countToShow=x.data.totalSize,r[p].isCountLoading=!1}));console.log(r),se(r)},ee=r=>{let p={workflow_job_cand_id:j.workflow_job_cand_id,candid:j.candid,fromstage:j.stageid,tostage:r,recrid:J.getvalue("recrId"),clientId:J.getvalue("clientId")};ae(q.getByParams(193,"Curately/Workflow/workflow_candidate_next_stage.jsp",{workflow_job_cand_id:j.workflow_job_cand_id,stageId:j.stageid,stageNumber:j.position,stageId1:r,clientId:J.getvalue("clientId")}).then(x=>{x.data.message==="Success"?q.postWithData("admin","applicantsStagesMoveLogs",p).then(T=>{T.data.Success||M(T.data.message,"error")}):M(x.data.message,"error")}))};f.useEffect(()=>{$.length||L()},[]),f.useEffect(()=>{console.log($)},[$]),f.useEffect(()=>{console.log(F)},[F]);function w(r){return{id:`sourceTabs-${r}`,"aria-controls":`sourceTabsPanel-${r}`}}return e.jsxDEV("div",{className:"jobWorkflow pr-1",children:[e.jsxDEV(g,{className:"customCard p-0",sx:{minHeight:"auto !important",width:"calc(100% - 16px) !important"},children:[e.jsxDEV(ht,{value:Y,onChange:i,"aria-label":"View Sourced Tabs",scrollButtons:"auto",variant:"scrollable",id:" viewSourcedTab",children:$.map(r=>e.jsxDEV(Ct,{label:e.jsxDEV(g,{container:!0,direction:"column",alignContent:"center",children:r.countToShow>0?e.jsxDEV("div",{className:"statusCount",children:[r.isCountLoading?e.jsxDEV(ot,{color:"success"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:278,columnNumber:57},void 0):r.countToShow?e.jsxDEV("span",{children:r.countToShow},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:280,columnNumber:61},void 0):e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:282,columnNumber:61},void 0),e.jsxDEV("div",{className:"statusLabel fw-7",children:r.title?r.title:r.name},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:284,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:275,columnNumber:45},void 0):e.jsxDEV("div",{children:[e.jsxDEV("span",{children:r.countToShow},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:288,columnNumber:49},void 0),e.jsxDEV("div",{className:"statusLabel",children:r.title?r.title:r.name},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:289,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:287,columnNumber:45},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:272,columnNumber:33},void 0),...w(0),className:"sourceTab",onClick:()=>{U(r)}},r.stageId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:269,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:267,columnNumber:17},void 0),e.jsxDEV("div",{className:"candidatesList MRTableCustom pl-0",children:$.map(r=>e.jsxDEV("div",{children:r.stageId===Z.stageId?e.jsxDEV(Lt,{masterStagesList:$,selectedStage:Z,stageIds:S,totalCount:Number(r.countToShow),workflowData:F,refetchData:L},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:314,columnNumber:45},void 0):null},r.stageId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:311,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:307,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:266,columnNumber:13},void 0),e.jsxDEV(xe,{id:"addlistmenu",anchorEl:P,open:I,onClose:b,MenuListProps:{"aria-labelledby":"add-list-btn"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(O=j==null?void 0:j.nextStageList)!=null&&O.length?j==null?void 0:j.nextStageList.map(r=>e.jsxDEV(C,{onClick:()=>{Ce(`Are you sure you want to move the candidate to ${r.title?r.title:r.name}?`,()=>{ee(r.stageId)},"warning"),b()},children:r.title?r.title:r.name},r.stageId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:430,columnNumber:32},void 0)):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:411,columnNumber:13},void 0),e.jsxDEV(Bt,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:449,columnNumber:13},void 0),e.jsxDEV(it,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:450,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:265,columnNumber:9},void 0)};export{Kl as default};
