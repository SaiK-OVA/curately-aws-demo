import{r as V,V as l,L as c,W as L,A as v,k as e,D as $,O as o,B as _,o as q,Q as O}from"./Da4I77gy.js";import{u as W}from"./CsO190yB.js";import{u as T}from"./D7ld7k1a.js";import{c as A,e as G,g as b,d as p,a as C}from"./BRh2WteL.js";import{D as H}from"./Bu7qOu7j.js";import{E as f}from"./MGFt9yJK.js";import{D as Q}from"./BtfZ3YdN.js";import{D as Z}from"./Bt1msObo.js";import{T as y}from"./DrwwBJQC.js";import"./6vuVcGup.js";import"./D4E8Ilzm.js";import"./DR5LSZrV.js";import"./YFmo1cJD.js";import"./DGAwO83Z.js";import"./BAhGwoeq.js";import"./Bfaybex0.js";import"./D8Uve2Qz.js";const pe=({open:E,closePopup:N,userId:j,jobId:P,openId:g,refreshSourcedData:J})=>{const U=V.useCallback(t=>{console.log(t),t!=null&&t.length?t[0].path.split(".").pop()==="docx"?s.setFieldValue("resume",t&&t.length?t[0]:null):(l("File should be docx format","error"),s.setFieldValue("resume",null)):s.setFieldValue("resume",null)},[]),{getRootProps:R,getInputProps:B,isDragActive:I,acceptedFiles:S}=W({onDrop:U,multiple:!1,accept:{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]}}),[u,z]=V.useState(!1),F={mmdd:H.now().toFormat("MMdd"),employee_Number:j,ssn:"",residential_status:21,ratesEnable:!0,formerContractor:!0,former_Employee_of_Client:!0,pay_rate:"",bill_rate:"",resume:null},k=A({mmdd:C(),employee_Number:C(),ssn:C(),residential_status:b(),ratesEnable:p(),formerContractor:p(),former_Employee_of_Client:p(),pay_rate:b().test("test-billGreater","Pay Rate should be less than Bill Rate.",function(){const{pay_rate:t,bill_rate:i}=this.parent;return!!(i&&t&&i>t)}).required("Bill Rate is required."),bill_rate:b().test("test-billGreater","Bill Rate should be greater than Pay Rate.",function(){const{pay_rate:t,bill_rate:i}=this.parent;return!!(i&&t&&i>t)}).required("Bill Rate is required."),resume:G().required("Resume is required.").test("fileFormat","Only Docx files are allowed",t=>t?["docx"].includes(t.name.split(".").pop()):!0).test("fileSize","File size must be less than 5MB",t=>t?t.size<=5242880:!0)}),s=T({initialValues:F,validationSchema:k,onSubmit:()=>{h()},validateOnMount:!0}),h=()=>{console.log(s.values),z(!0);let t=Number(s.values.pay_rate),i=Number(s.values.bill_rate);if(t&&i&&t>i){l("PayRate should be less than BillRate","error");return}let n=localStorage.getItem(`curately_${c.getvalue("clientId")}_jobId_${P}`);if(s.values.resume&&s.isValid){let r=new FormData;r.append("mmdd",s.values.mmdd?s.values.mmdd:""),r.append("employee_Number",s.values.employee_Number?s.values.employee_Number:""),r.append("ssn",s.values.ssn?s.values.ssn:""),r.append("residential_status",""+s.values.residential_status),r.append("ratesEnable",""+s.values.ratesEnable),r.append("formerContractor",""+s.values.formerContractor),r.append("former_Employee_of_Client",""+s.values.former_Employee_of_Client),r.append("pay_rate",s.values.pay_rate?s.values.pay_rate:""),r.append("bill_rate",s.values.bill_rate?s.values.bill_rate:""),r.append("resume",s.values.resume?s.values.resume:""),r.append("jobId",n||""),L(v.postWithFileData(2168095,"rw1/addCandateDetails",r).then(a=>{var x,w;if(a.data.Success)M(),l("Candidate has been Submitted Successfully.","success"),s.resetForm(),N();else{let d=a.data.message?a.data.message:"An error occured while Submitting the Candidate.";(x=a.data.non_field_errors)!=null&&x.length?d=a.data.non_field_errors[0]:(w=a.data.error_list)!=null&&w.length&&(d=a.data.error_list[0]),l(d,"error")}}))}else l("Please fill all required fields.","error")},D=[{recrId:c.getvalue("recrId"),openId:g,status:1009,clientId:c.getvalue("clientId"),stageId:100,json:""}],M=()=>{for(let t=0;t<D.length;t++){const i=D[t];setTimeout(()=>{v.getByParams(193,"Curately/Candidate/shortlistSave.jsp",i).then(n=>{n.data.Message==="Success"?J():l(n.data.Message,"error")})},1e3*t)}},m=S.map(t=>e.jsxDEV("span",{children:[t.path," - ",(t.size/(1024*1024)).toFixed(2)," MB"]},t.path,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:254,columnNumber:9},void 0));return e.jsxDEV($,{maxWidth:"sm",fullWidth:!1,open:E,id:"ClientSubmissionPopup",className:"customInputs",children:[e.jsxDEV(Q,{className:"py-2",children:e.jsxDEV(o,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Client Submission"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:275,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(o,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:[e.jsxDEV(_,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:N,children:"Cancel"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:283,columnNumber:29},void 0),e.jsxDEV(_,{variant:"contained",type:"button",color:"primary",onClick:h,children:"Submit Candidate"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:289,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:277,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:276,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:268,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:265,columnNumber:13},void 0),e.jsxDEV(Z,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:298,columnNumber:13},void 0),e.jsxDEV(q,{className:"px-5",children:[e.jsxDEV(O,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:300,columnNumber:17},void 0),e.jsxDEV(o,{container:!0,className:"mb-1",spacing:0,children:[e.jsxDEV(o,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"SSN "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:303,columnNumber:25},void 0),e.jsxDEV("span",{style:{color:"red"},children:"*"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:303,columnNumber:67},void 0),e.jsxDEV(y,{fullWidth:!0,className:"mt-1",id:"ssn",name:"ssn",variant:"outlined",size:"small",value:s.values.ssn,onChange:s.handleChange,error:!!(s.errors.ssn&&u),type:"number"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:304,columnNumber:25},void 0),e.jsxDEV(f,{formikObj:s,name:"ssn",isFormSubmitted:u},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:314,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:302,columnNumber:21},void 0),e.jsxDEV(o,{size:12,className:"mt-1",children:e.jsxDEV(o,{container:!0,direction:"row",justifyContent:"start",alignItems:"center",spacing:2,children:[e.jsxDEV(o,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Pay Rate "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:353,columnNumber:33},void 0),e.jsxDEV("span",{style:{color:"red"},children:"*"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:353,columnNumber:80},void 0),e.jsxDEV(y,{size:"small",fullWidth:!0,id:"pay_rate",name:"pay_rate",value:s.values.pay_rate,onChange:s.handleChange,onBlur:()=>{const t=Number(s.values.pay_rate),i=Number(s.values.bill_rate);t&&i&&t>i&&s.setFieldError("pay_rate","PayRate should be less than BillRate")},type:"number"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:354,columnNumber:33},void 0),e.jsxDEV(f,{formikObj:s,name:"pay_rate",isFormSubmitted:u},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:372,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:352,columnNumber:29},void 0),e.jsxDEV(o,{size:6,className:"mt-1",children:[e.jsxDEV("label",{className:"inputLabel",children:"Bill Rate "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:375,columnNumber:33},void 0),e.jsxDEV("span",{style:{color:"red"},children:"*"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:375,columnNumber:81},void 0),e.jsxDEV(y,{size:"small",fullWidth:!0,id:"bill_rate",name:"bill_rate",value:s.values.bill_rate,onChange:s.handleChange,onBlur:()=>{},type:"number"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:376,columnNumber:33},void 0),e.jsxDEV(f,{formikObj:s,name:"bill_rate",isFormSubmitted:u},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:392,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:374,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:351,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:350,columnNumber:21},void 0),e.jsxDEV(o,{size:12,className:"mt-1",children:e.jsxDEV("div",{className:"customDropZone",children:e.jsxDEV("div",{...R({className:`dropzone ${S.length>0?"fileDroped":""}`}),children:[e.jsxDEV("input",{...B(),multiple:!1,accept:".docx"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:403,columnNumber:33},void 0),I?e.jsxDEV("p",{children:"Drop the resume here ... *"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:406,columnNumber:41},void 0):m&&m.length?e.jsxDEV("p",{children:m},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:408,columnNumber:45},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{children:["Drag 'n' drop resume here, or click to select ",e.jsxDEV("span",{style:{color:"red"},children:"*"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:411,columnNumber:98},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:411,columnNumber:49},void 0),e.jsxDEV("em",{children:"(Only *.docx file will be accepted)"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:412,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:410,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:400,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:399,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:397,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:301,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:299,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/View/Sourced/PopUps/ClientSubmission/ClientSubmission.tsx",lineNumber:261,columnNumber:9},void 0)};export{pe as default};
