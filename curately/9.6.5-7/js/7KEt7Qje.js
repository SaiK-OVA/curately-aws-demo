import{al as V,r as u,k as e,O as m,S as N,T as j,bV as I,L as D,B as h,l as P,W as C,A as g,V as f}from"./Da4I77gy.js";import{M}from"./DCKGuMgj.js";import{S as z}from"./BcvtPrAc.js";import{D as l,A as T}from"./Bu7qOu7j.js";import{C as F}from"./CYG5EPlH.js";import{L as k,D as x}from"./D4E8Ilzm.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./DrwwBJQC.js";import"./DR5LSZrV.js";import"./CNGds3kx.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./D8Uve2Qz.js";import"./DGAwO83Z.js";import"./BAhGwoeq.js";import"./BSRMXGwI.js";import"./M012vGJb.js";import"./YFmo1cJD.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./BtfZ3YdN.js";import"./Bt1msObo.js";import"./DVcNEn01.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./Bfaybex0.js";const fe=()=>{const{sequenceType:d}=V(),[c,y]=u.useState([]),[i,p]=u.useState(l.now()),[o,L]=u.useState(l.now()),[A,b]=u.useState(!1),[n,S]=u.useState({pageIndex:0,pageSize:25}),w=u.useMemo(()=>{const t=n.pageIndex*n.pageSize,a=t+n.pageSize;return c.slice(t,a)},[c,n.pageIndex,n.pageSize]),v=[{accessorKey:"AuditlogID",header:"ID",size:80},{accessorKey:"fullName",header:"Candidate Name",Cell:({renderedCellValue:t,row:a})=>e.jsxDEV("span",{children:a.original.fullName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:92,columnNumber:17},void 0)},{accessorKey:"CreatedDate",header:"Created Date",Cell:({renderedCellValue:t,row:a})=>e.jsxDEV("span",{children:l.fromSQL(a.original.CreatedDate.substring(0,10)).toFormat("MM/dd/yyyy")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:104,columnNumber:17},void 0)},{accessorKey:"Description",header:"Description"},{accessorKey:"SequenceName",header:"Campaign Name"},{accessorKey:"StageNumber",header:"Stage Number"}],E=()=>{if(i&&o&&i.startOf("day")<=o.startOf("day")){let t={startDate:i.toFormat("yyyy-MM-dd"),endDate:o.toFormat("yyyy-MM-dd"),clientId:D.getvalue("clientId")};d==="candidate"?C(g.postWithData("admin","getAuditLog",t).then(a=>{if(b(!0),a.data.Status&&a.data.Status===200){let s=[...a.data.AuditLogList];for(let r=0;r<s.length;r++)s[r].id=r+1,s[r].actions="";y(s.reverse())}})):d==="contact"&&C(g.postWithData("admin","getSequenceContactAuditLog",t).then(a=>{if(b(!0),a.data.Status&&a.data.Status===200){let s=[...a.data.AuditLogList];for(let r=0;r<s.length;r++)s[r].id=r+1,s[r].actions="";y(s.reverse())}}))}else i?o?i.startOf("day")>o.startOf("day")&&f("Start Date should be less than End Date.","error"):f("Enter Valid End Date.","error"):f("Enter Valid Start Date.","error")},q=t=>{g.saveAuditLog(t)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"",id:"auditLog",children:e.jsxDEV("div",{className:"",children:[e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:[e.jsxDEV(N,{direction:"row",spacing:3,children:e.jsxDEV(j,{variant:"h6",className:"header, pt-1",children:" Audit Log "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:214,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV("div",{className:"d-flex",children:e.jsxDEV(I,{to:`/${D.getvalue("clientName")}/letter/campaigns/${d}/list`,className:"btn btn-primary ml-2 c-white underlineNone",children:e.jsxDEV(h,{variant:"outlined",color:"secondary",size:"small",children:"Back to List"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:220,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:219,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:217,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:205,columnNumber:17},void 0),e.jsxDEV(m,{className:"my-3 customCard ",container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(N,{direction:"row",spacing:3,children:e.jsxDEV(k,{dateAdapter:T,children:e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(x,{label:"Start Date",value:i,onChange:t=>{p(t||l.now())},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:o},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:245,columnNumber:33},void 0),e.jsxDEV(P,{sx:{mx:2},children:" to "},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:271,columnNumber:33},void 0),e.jsxDEV(x,{label:"End Date",value:o,onChange:t=>{L(t||l.now())},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:l.now()},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:272,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:239,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:238,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:237,columnNumber:21},void 0),e.jsxDEV(h,{variant:"contained",color:"primary",className:"ml-4",fullWidth:!0,onClick:()=>{E(),q(4196)},children:"Get Data"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:302,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:230,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 customCard CardView",children:e.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:A?e.jsxDEV(M,{columns:v,data:w,enablePinning:!0,initialState:{columnPinning:{left:["mrt-row-select"]},density:"compact",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",getRowId:t=>t.sequence_id,enableStickyHeader:!0,enablePagination:!1,renderBottomToolbarCustomActions:()=>e.jsxDEV(F,{page:n.pageIndex,rowsPerPage:25,rowCount:c.length,onChangePage:t=>S({...n,pageIndex:t,pageSize:25})},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:333,columnNumber:41},void 0),icons:{ArrowDownwardIcon:t=>e.jsxDEV(z,{...t},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:348,columnNumber:45},void 0)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:312,columnNumber:33},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:308,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:204,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:202,columnNumber:12},void 0)};export{fe as default};
