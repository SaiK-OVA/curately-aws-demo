import{e as V,j as T,r as l,k as e,O as c,C as A,B as p,L as s,W as R,A as b,V as i,T as P,S as k}from"./Da4I77gy.js";import{M as L}from"./DCKGuMgj.js";import{C as z}from"./DKJNZLby.js";import{A as $}from"./CUpMXY8Z.js";import{u as W}from"./DK3Gw6Ji.js";import{V as B}from"./BRh2WteL.js";import{D as H}from"./BtfZ3YdN.js";import{A as K}from"./DwQ4byYi.js";import{C as F}from"./DGAwO83Z.js";import{T as x}from"./DrwwBJQC.js";import{L as O}from"./xO5jApXz.js";import{S as G}from"./BcvtPrAc.js";import{P as _}from"./BQF8Xy5J.js";import{D as q}from"./Dr9pSDy8.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./D4E8Ilzm.js";import"./DR5LSZrV.js";import"./YFmo1cJD.js";import"./BAhGwoeq.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./D8Uve2Qz.js";import"./BSRMXGwI.js";import"./M012vGJb.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./Bt1msObo.js";import"./DVcNEn01.js";import"./Bob0wRh9.js";import"./Bu7qOu7j.js";import"./Bfaybex0.js";const J=V(T.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"InsertLink"),Q=({closeInvitePopup:y})=>{const[n,o]=l.useState([]),[u,d]=l.useState(""),[t,m]=l.useState(!1),[N,h]=l.useState(""),C=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),g=async a=>{try{await W.validate(a),d(""),h(""),E(a)}catch(r){r instanceof B&&h(r.message||"Invalid email format")}},v=a=>{o(n.filter(r=>r!==a))},E=a=>{m(!0),b.postWithData("admin","referralRecrAvailability",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),email:a}).then(r=>{console.log(r.data),r.data.Success?w(a):i(r.data.Message?r.data.Message:"An error occured while validating the email.","error")})},w=async a=>{try{(await $.validateWorkEmail(a)).data.debounce.free_email==="false"?o([...n,a]):i("Please Enter Work Email.","error")}catch(r){return console.error("Error validating email:",r),!1}m(!1)},S=(a,r)=>{d(r),C(r)?D([r]):D([])},[M,D]=l.useState([]),j=()=>{n.length?R(b.postWithData("admin","sendRefferalEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:n}).then(a=>{console.log(a.data),a.data.Success?(o([]),i("Referral sent successfully.","success"),y(!0)):i(a.data.Message?a.data.Message:"An error occured while Referring.","error")})):i("Please enter emails to Refer","error")};return e.jsxDEV("div",{id:"ReferMembers",children:[e.jsxDEV(H,{children:e.jsxDEV(c,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:e.jsxDEV("span",{className:"addHeader",children:"Refer & Get 10 Credits"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:131,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:130,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{className:"refer-wrapper",children:[e.jsxDEV("p",{className:"refer-info",children:"Redeem your credits by subscribing to paid plan with advanced features & instant discount."},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:137,columnNumber:17},void 0),e.jsxDEV("div",{className:"input-wrapper",children:[e.jsxDEV(K,{multiple:!0,freeSolo:!0,value:n,onChange:(a,r)=>{if(r.length>n.length){const f=r[r.length-1];g(f)}else o(r)},options:M,inputValue:u,onInputChange:S,renderInput:a=>e.jsxDEV(x,{...a,label:"Add people using their emails",variant:"outlined",error:!!N,helperText:N,onKeyDown:r=>{r.key==="Enter"&&u&&(r.preventDefault(),g(u))}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:154,columnNumber:29},void 0),renderTags:(a,r)=>a.map((f,I)=>e.jsxDEV(F,{variant:"outlined",label:f,...r({index:I}),onDelete:()=>v(f)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:166,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:140,columnNumber:21},void 0),t&&e.jsxDEV(A,{className:"loaderIcon",size:20},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:169,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV(p,{color:"primary",variant:"contained",onClick:j,disabled:!n.length,className:"ml-3 my-3",children:"Refer people"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:136,columnNumber:13},void 0),e.jsxDEV(c,{className:"my-4 px-5 mx-4 pb-4",container:!0,size:12,children:[e.jsxDEV(c,{size:"auto",sx:{width:"calc(100% - 115px)"},children:e.jsxDEV(x,{variant:"outlined",disabled:!0,fullWidth:!0,size:"small",value:`${window.location.origin}${window.location.pathname}#/signin?referral=${s.getvalue("referralCode")}`},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:178,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:177,columnNumber:17},void 0),e.jsxDEV(c,{size:"auto",sx:{width:"75px"},children:e.jsxDEV(p,{variant:"outlined",size:"small",startIcon:e.jsxDEV(J,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:187,columnNumber:72},void 0),className:"cursor-pointer fs-16 ml-2",onClick:a=>{a.stopPropagation(),z.text(`${window.location.origin}${window.location.pathname}#/signin?referral=${s.getvalue("referralCode")}`,"Referral Link")},children:"Copy"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:187,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:128,columnNumber:9},void 0)},Ve=()=>{const[y,n]=l.useState([]),o=()=>{R(b.postWithData("admin","getReferredRecruiterDetails",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId")}).then(t=>{t.data.referredRecruiterDetails&&n(t.data.referredRecruiterDetails||[])}))};l.useEffect(()=>{o()},[]);const u=l.useMemo(()=>[{accessorKey:"name",header:"Name",enableColumnPinning:!0,size:100},{accessorKey:"email",header:"Email",Cell:({row:t})=>e.jsxDEV("span",{className:"tt-lower",children:t.original.email},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:71,columnNumber:21},void 0),size:100},{accessorKey:"status",header:"Status",Cell:({row:t})=>e.jsxDEV("span",{className:`${t.original.status}`,children:[t.original.status==="Pending"?e.jsxDEV(_,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:82,columnNumber:33},void 0):t.original.status==="Accepted"?e.jsxDEV(q,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:85,columnNumber:37},void 0):null,e.jsxDEV("span",{className:"px-2",children:t.original.status},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:89,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:79,columnNumber:21},void 0)},{accessorKey:"referredDate",header:"Reffered Date",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.referredDate&&O.ServerEDTToSystem(t.original.referredDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:97,columnNumber:21},void 0),size:100},{accessorKey:"invitedDate",header:"",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.status==="Pending"?e.jsxDEV(p,{variant:"outlined",color:"primary",size:"small",onClick:()=>d(t.original.email),children:"Re-invite"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:112,columnNumber:33},void 0):e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:114,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:109,columnNumber:21},void 0),size:100}],[]),d=t=>{t?R(b.postWithData("admin","sendRefferalEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:[t]}).then(m=>{console.log(m.data),m.data.Success?i("Referral sent successfully.","success"):i(m.data.Message?m.data.Message:"An error occured while Referring.","error")})):i("no email found to Invite","error")};return e.jsxDEV("div",{id:"ReferMember",children:[e.jsxDEV(c,{container:!0,direction:"row",className:"customCard px-4 py-2 mt-4",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[e.jsxDEV(P,{variant:"h6",className:"headerName",children:"Refer"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:147,columnNumber:13},void 0),e.jsxDEV(k,{direction:"row",className:"btn-container"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:146,columnNumber:9},void 0),e.jsxDEV(c,{container:!0,direction:"row",className:"py-2 mt-4",justifyContent:"flex-start",alignItems:"center",display:"flex",sx:{minHeight:"auto !important",width:730},children:e.jsxDEV(Q,{closeInvitePopup:t=>{t&&o()}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:155,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:154,columnNumber:9},void 0),e.jsxDEV("div",{className:"MRTableCustom  pl-0 pl-4",children:e.jsxDEV(L,{columns:u,enableRowSelection:!1,data:y,enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["name"]},density:"comfortable",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilter:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,columnResizeMode:"onChange",getRowId:t=>t.email,icons:{ArrowDownwardIcon:t=>e.jsxDEV(G,{...t},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:187,columnNumber:56},void 0)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:164,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:163,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:145,columnNumber:12},void 0)};export{Ve as default};
