import{r as l,W as m,A as o,L as s,k as a,B as d,b1 as C,V as n,O as y,T as x,S as I,D as S,n as E,o as j}from"./Da4I77gy.js";import{M as w}from"./DCKGuMgj.js";import{I as V}from"./KH7asE9q.js";import{L as R}from"./xO5jApXz.js";import{S as P}from"./BcvtPrAc.js";import{P as z}from"./BQF8Xy5J.js";import{D as A}from"./Dr9pSDy8.js";import{T as L}from"./DrwwBJQC.js";import{M as k}from"./YFmo1cJD.js";import{D as W}from"./BtfZ3YdN.js";import"./DKbR-AmK.js";import"./DRaa5a1K.js";import"./CNGds3kx.js";import"./D4E8Ilzm.js";import"./DR5LSZrV.js";import"./DGAwO83Z.js";import"./BAhGwoeq.js";import"./CTncTM4t.js";import"./Dw4YnGpZ.js";import"./DtpZK6Fd.js";import"./Cb9wbhoa.js";import"./D8Uve2Qz.js";import"./BSRMXGwI.js";import"./M012vGJb.js";import"./Ca_RVXIc.js";import"./DGhwAF8n.js";import"./Bt1msObo.js";import"./DVcNEn01.js";import"./DwQ4byYi.js";import"./Bob0wRh9.js";import"./CUpMXY8Z.js";import"./DK3Gw6Ji.js";import"./BRh2WteL.js";import"./Dh0klti0.js";import"./Bfaybex0.js";import"./Bu7qOu7j.js";const Me=()=>{const[g,p]=l.useState([]),[b,c]=l.useState(!1),[f,N]=l.useState([]);l.useEffect(()=>{h(),u()},[]);const h=()=>{m(o.postWithData("admin","getRoleList",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId")}).then(e=>{const t=e.data;t.Success&&N([...t.list])}))},v=(e,t,r)=>{m(o.postWithData("admin","updateInviteRecruiterRole",{recrId:r,clientId:s.getvalue("clientId"),roleId:e.target.value,invitedId:t}).then(i=>{i.data.Success?(n("Recuriter Role updated successfully.","success"),u()):n(i.data.Message?i.data.Message:"Error retriving Roles data","error")}))},u=()=>{m(o.postWithData("admin","getInvitedRecruiterDetails",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId")}).then(e=>{e.data.Success&&p(e.data.invitedRecruiterDetails||[])}))},M=l.useMemo(()=>[{accessorKey:"name",header:"Name",enableColumnPinning:!0,size:100},{accessorKey:"email",header:"Email",Cell:({row:e})=>a.jsxDEV("span",{className:"tt-lower",children:e.original.email},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:121,columnNumber:36},void 0),size:100},{accessorKey:"status",header:"Status",Cell:({row:e})=>a.jsxDEV("span",{className:`${e.original.status}`,children:[e.original.status==="Pending"?a.jsxDEV(z,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:131,columnNumber:33},void 0):e.original.status==="Accepted"?a.jsxDEV(A,{},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:134,columnNumber:37},void 0):null,a.jsxDEV("span",{className:"px-2",children:e.original.status},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:138,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:128,columnNumber:21},void 0)},{accessorKey:"invitedDate",header:"Invited Date",Cell:({row:e})=>a.jsxDEV("span",{children:e.original.invitedDate&&R.ServerEDTToSystem(e.original.invitedDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a")},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:146,columnNumber:21},void 0),size:100},{accessorKey:"roleId",header:"Role",Cell:({row:e})=>{var t,r;return a.jsxDEV("span",{children:e.original.status==="Accepted"?a.jsxDEV(L,{fullWidth:!0,className:"mt-1",size:"small",variant:"outlined",select:!0,id:`role-${e.original.invitedId}`,value:(t=e.original)==null?void 0:t.roleId,onChange:i=>v(i,e.original.invitedId,e.original.recrId),children:f.map(i=>a.jsxDEV(k,{value:i.roleId,children:i.roleName},i.roleId,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:174,columnNumber:41},void 0))},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:161,columnNumber:29},void 0):(r=e.original)==null?void 0:r.roleName},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:159,columnNumber:21},void 0)},size:80},{accessorKey:"recrId",header:"",Cell:({row:e})=>{let t=e.original.status==="Accepted"&&e.original.recrId?e.original.recrId:0;return a.jsxDEV("span",{children:[e.original.status==="Pending"?a.jsxDEV(d,{variant:"outlined",color:"primary",size:"small",onClick:()=>T(e.original.email),children:"Re-invite"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:194,columnNumber:33},void 0):null,a.jsxDEV(d,{variant:"outlined",color:"error",size:"small",className:"ml-2",onClick:()=>{C(`Are you sure you want to delete ${e.original.name?e.original.name:e.original.email}?`,()=>{D(e.original.invitedId,t)},"warning")},children:"Remove"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:198,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:191,columnNumber:29},void 0)},size:100}],[f]),D=(e,t)=>{m(o.postWithData("admin","deleteRecruiterFromInvite",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),invitedRecrId:t,invitedId:e}).then(r=>{console.log(r.data),r.data.Success?(n("Team Member has been removed successfully.","success"),u()):n(r.data.Message?r.data.Message:"An error occured while removing.","error")}))},T=e=>{e?m(o.postWithData("admin","sendInviteEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:[e]}).then(t=>{console.log(t.data),t.data.Success?n("Invitation sent successfully.","success"):n(t.data.Message?t.data.Message:"An error occured while inviting.","error")})):n("no email found to Invite","error")};return a.jsxDEV("div",{id:"TeamMembers",children:[a.jsxDEV(y,{container:!0,direction:"row",className:"customCard px-4 py-2 mt-4",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[a.jsxDEV(x,{variant:"h6",className:"headerName",children:"Team Members"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:260,columnNumber:13},void 0),a.jsxDEV(I,{direction:"row",className:"btn-container",children:!s.getvalue("invitedBy")&&s.getvalue("paymentType")!==1?a.jsxDEV(d,{variant:"contained",className:"btnPrimary mr-3",size:"small",onClick:()=>{c(!0)},children:"Invite Members"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:266,columnNumber:25},void 0):null},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:263,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:259,columnNumber:9},void 0),a.jsxDEV("div",{className:"MRTableCustom  pl-0 ",children:a.jsxDEV(w,{columns:M,enableRowSelection:!1,data:g,enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["name"]},density:"comfortable",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilter:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,columnResizeMode:"onChange",getRowId:e=>e.email,icons:{ArrowDownwardIcon:e=>a.jsxDEV(P,{...e},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:297,columnNumber:56},void 0)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:273,columnNumber:9},void 0),b?a.jsxDEV(S,{open:b,onClose:()=>c(!1),children:[a.jsxDEV(W,{children:a.jsxDEV(y,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[a.jsxDEV("span",{className:"addHeader",children:"Invite Team Members"},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:307,columnNumber:29},void 0),a.jsxDEV(E,{onClick:()=>c(!1)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:310,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:306,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:305,columnNumber:21},void 0),a.jsxDEV(j,{sx:{minWidth:500},className:"pt-4",children:a.jsxDEV(V,{closeInvitePopup:e=>{e&&u(),c(!1)}},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:315,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:314,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:304,columnNumber:17},void 0):null]},void 0,!0,{fileName:"C:/Curately-aws-demo-test/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:258,columnNumber:12},void 0)};export{Me as default};
